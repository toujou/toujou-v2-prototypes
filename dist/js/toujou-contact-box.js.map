{"version":3,"file":"toujou-contact-box.js","sources":["../../node_modules/@toujou/toujou-contact-box/lib/index.js"],"sourcesContent":["import{__decorate as t}from\"tslib\";import{LitElement as e}from\"lit\";import{property as s,customElement as o}from\"lit/decorators.js\";let n=class extends e{constructor(){super(...arguments),this.openContactBoxBodyAttribute=\"contact-box-is-open\",this.keyCodes={tab:9,escape:27},this.selectors={focusableEls:\".contact-box__close, a.contact-box__link\",contactStateInput:\"#contact-state\",closeButton:\".contact-box__close\"},this._closeButton=null,this._contactStateInput=null,this.state=!1,this._focusableEls=[],this._firstFocusableEl=null,this._lastFocusableEl=null,this._prevContentFocusEl=null}createRenderRoot(){return this}set _state(t){var e;this.state=t,this.state?(this.setAttribute(\"tabindex\",\"0\"),document.body.setAttribute(this.openContactBoxBodyAttribute,\"\"),window.addEventListener(\"keydown\",this._handleKeyDown.bind(this)),this._prevContentFocusEl=document.activeElement,this.focus()):(this.removeAttribute(\"tabindex\"),this._contactStateInput.checked=!1,document.body.removeAttribute(this.openContactBoxBodyAttribute),window.removeEventListener(\"keydown\",this._handleKeyDown),null===(e=this._prevContentFocusEl)||void 0===e||e.focus())}connectedCallback(){this._contactStateInput=document.querySelector(this.selectors.contactStateInput),this._closeButton=this.querySelector(this.selectors.closeButton),this._closeButton&&this._contactStateInput?this._init():console.error(\"TOUJOU: Could not find the necessary elements for the contact box\")}disconnectedCallback(){var t,e;null===(t=this._contactStateInput)||void 0===t||t.removeEventListener(\"change\",this._handleStateInputStateChange),this.removeEventListener(\"click\",this._handleClick),null===(e=this._closeButton)||void 0===e||e.removeEventListener(\"click\",this._handleCloseButtonClick)}_init(){var t,e;this._focusableEls=Array.from(this.querySelectorAll(this.selectors.focusableEls)),this._firstFocusableEl=this._focusableEls[0],this._lastFocusableEl=this._focusableEls[this._focusableEls.length-1],null===(t=this._contactStateInput)||void 0===t||t.addEventListener(\"change\",this._handleStateInputStateChange.bind(this)),this.addEventListener(\"click\",this._handleClick.bind(this)),null===(e=this._closeButton)||void 0===e||e.addEventListener(\"click\",this._handleCloseButtonClick.bind(this))}_handleStateInputStateChange(){var t;this._state=(null===(t=this._contactStateInput)||void 0===t?void 0:t.checked)||!1}_handleClick(t){t.target===this&&this._closeButton&&(this._state=!1)}_handleKeyDown(t){this.state&&(\"Escape\"===t.key||t.keyCode===this.keyCodes.escape?this._handleEscapePress():\"Tab\"!==t.key&&t.keyCode!==this.keyCodes.tab||this._handleTabPress(t))}_handleEscapePress(){this._state=!1}_handleTabPress(t){var e,s;t.shiftKey?document.activeElement===this._firstFocusableEl&&(t.preventDefault(),null===(e=this._lastFocusableEl)||void 0===e||e.focus()):document.activeElement===this._lastFocusableEl&&(t.preventDefault(),null===(s=this._firstFocusableEl)||void 0===s||s.focus())}_handleCloseButtonClick(){this._state=!1}};t([s({type:HTMLElement})],n.prototype,\"_closeButton\",void 0),t([s({type:HTMLInputElement})],n.prototype,\"_contactStateInput\",void 0),t([s({type:Boolean})],n.prototype,\"state\",void 0),t([s({type:HTMLElement})],n.prototype,\"_focusableEls\",void 0),t([s({type:HTMLElement})],n.prototype,\"_firstFocusableEl\",void 0),t([s({type:HTMLElement})],n.prototype,\"_lastFocusableEl\",void 0),t([s({type:HTMLElement})],n.prototype,\"_prevContentFocusEl\",void 0),n=t([o(\"toujou-contact-box\")],n);//# sourceMappingURL=index.js.map\n"],"names":["n","e","s","t","o"],"mappings":"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"}