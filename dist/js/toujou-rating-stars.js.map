{"version":3,"file":"toujou-rating-stars.js","sources":["../../src/components/toujou-rating-stars/toujou-rating-stars.styles.ts","../../src/components/toujou-rating-stars/toujou-rating-stars.ts"],"sourcesContent":["import { css } from \"lit\";\n\nexport const ToujouRatingStarsStyles = css`\n  :host {\n    --rating-stars-entity-position: relative;\n    --rating-stars-entity-left: -.1em;\n    \n    --rating-stars-overlay-position: absolute;\n    --rating-stars-overlay-top: 0;\n    --rating-stars-overlay-right: 0;\n    --rating-stars-overlay-height: 100%;\n    --rating-stars-overlay-background-color: transparent;\n    --rating-stars-overlay-backdrop-filter: grayscale(1);\n    \n    position: var(--rating-stars-entity-position);\n  }\n  \n  .entity {\n    position: relative;\n    left: var(--rating-stars-entity-left);\n  }\n  \n  .overlay {\n    position: var(--rating-stars-overlay-position);\n    top: var(--rating-stars-overlay-top);\n    right: var(--rating-stars-overlay-right);\n    height: var(--rating-stars-overlay-height);\n    width: var(--rating-stars-percentage);\n    background-color: var(--rating-stars-overlay-background-color);\n    backdrop-filter: var(--rating-stars-overlay-backdrop-filter);\n    display: block;\n  }\n`\n","import { LitElement, html, PropertyValues } from 'lit'\nimport { customElement, property } from 'lit/decorators.js'\nimport { ToujouRatingStarsStyles } from \"./toujou-rating-stars.styles\";\n\n@customElement('toujou-rating-stars')\nexport class ToujouRatingStars extends LitElement {\n    static styles = [ToujouRatingStarsStyles];\n\n    @property({ type: Array })\n    entities: string[] = [];\n\n    @property({ type: String, attribute: 'rating-entity' })\n    ratingEntity: string = 'â˜…';\n\n    @property({ type: Number, attribute: 'rating-total' })\n    ratingTotal: number = 5;\n\n    @property({ type: Number, attribute: 'rating-value' })\n    ratingValue: number = 0;\n\n    @property({ type: Number })\n    percentage: number = 0;\n\n    private readonly percentageCssVariable = `--rating-stars-percentage`;\n\n    render() {\n        return html`\n           ${this.entities.map((entity: string) => {\n               return html`\n                   <span class=\"entity\">${entity}</span>\n               `\n           })}\n           <span class=\"overlay\"></span>\n        `\n    }\n\n    /**\n     * Update the percentage when the relevant attributes change\n     * @param changed\n     */\n    updated(changed: PropertyValues<this>) {\n        if (changed.has('ratingTotal')) {\n            this.entities = Array(this.ratingTotal).fill(this.ratingEntity);\n            this.updatePercentage();\n        }\n        if (changed.has('ratingValue')) {\n            this.entities = Array(this.ratingTotal).fill(this.ratingEntity);\n            this.updatePercentage();\n        }\n    }\n\n    /**\n     * Calculate the \"rest percentage\" depending on the ratingValue and ratingTotal values.\n     * Set the correct value to the --rating-stars-percentage variable\n     */\n    updatePercentage = () => {\n        this.percentage = (this.ratingValue / this.ratingTotal) * 100;\n        this.style.setProperty(this.percentageCssVariable, `${100 - this.percentage}%`);\n    }\n}\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'toujou-rating-stars': ToujouRatingStars\n    }\n}\n"],"names":["ToujouRatingStarsStyles","css","ToujouRatingStars","LitElement","html","entity","changed","__decorateClass","property","customElement"],"mappings":"sMAEO,MAAMA,EAA0BC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,kMCG1B,IAAAC,EAAN,cAAgCC,CAAW,CAA3C,aAAA,CAAA,MAAA,GAAA,SAAA,EAIH,KAAA,SAAqB,GAGE,KAAA,aAAA,IAGD,KAAA,YAAA,EAGA,KAAA,YAAA,EAGD,KAAA,WAAA,EAErB,KAAiB,sBAAwB,4BAgCzC,KAAA,iBAAmB,IAAM,CACrB,KAAK,WAAc,KAAK,YAAc,KAAK,YAAe,IAC1D,KAAK,MAAM,YAAY,KAAK,sBAAuB,GAAG,IAAM,KAAK,aAAa,CAAA,CAClF,CAjCA,QAAS,CACE,OAAAC;AAAAA,aACF,KAAK,SAAS,IAAKC,GACVD;AAAAA,0CACoBC;AAAA,gBAE9B;AAAA;AAAA,SAGR,CAMA,QAAQC,EAA+B,CAC/BA,EAAQ,IAAI,aAAa,IACzB,KAAK,SAAW,MAAM,KAAK,WAAW,EAAE,KAAK,KAAK,YAAY,EAC9D,KAAK,iBAAiB,GAEtBA,EAAQ,IAAI,aAAa,IACzB,KAAK,SAAW,MAAM,KAAK,WAAW,EAAE,KAAK,KAAK,YAAY,EAC9D,KAAK,iBAAiB,EAE9B,CAUJ,EAtDaJ,EACF,OAAS,CAACF,CAAuB,EAGxCO,EAAA,CADCC,EAAS,CAAE,KAAM,MAAO,CAAA,EAHhBN,EAIT,UAAA,WAAA,CAAA,EAGAK,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,UAAW,gBAAiB,CAAA,EAN7CN,EAOT,UAAA,eAAA,CAAA,EAGAK,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,UAAW,eAAgB,CAAA,EAT5CN,EAUT,UAAA,cAAA,CAAA,EAGAK,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,UAAW,eAAgB,CAAA,EAZ5CN,EAaT,UAAA,cAAA,CAAA,EAGAK,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,CAAA,EAfjBN,EAgBT,UAAA,aAAA,CAAA,EAhBSA,EAANK,EAAA,CADNE,EAAc,qBAAqB,CAAA,EACvBP,CAAA"}