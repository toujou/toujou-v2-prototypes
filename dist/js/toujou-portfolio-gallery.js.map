{"version":3,"file":"toujou-portfolio-gallery.js","sources":["../../src/components/toujou-portfolio-gallery/toujou-portfolio-gallery.styles.ts","../../node_modules/photoswipe-video-plugin/src/default-options.js","../../node_modules/photoswipe-video-plugin/src/video-content-setup.js","../../node_modules/photoswipe-video-plugin/src/index.js","../../src/components/toujou-portfolio-gallery/toujou-portfolio-gallery.ts"],"sourcesContent":["import { css } from 'lit';\n\nexport const ToujouPortfolioGalleryStyles = css`\n  * {\n    box-sizing: border-box;\n  }\n\n  :host {\n    position: relative;\n  }\n`;","export const defaultOptions = {\r\n  videoAttributes: { controls: '', playsinline: '', preload: 'auto' },\r\n  autoplay: true,\r\n\r\n  // prevent drag/swipe gesture over the bottom part of video\r\n  // set to 0 to disable\r\n  preventDragOffset: 40\r\n};\r\n","/**\r\n * Check if slide has video content\r\n *\r\n * @param {Slide|Content} content Slide or Content object\r\n * @returns Boolean\r\n */\r\nfunction isVideoContent(content) {\r\n  return (content && content.data && content.data.type === 'video');\r\n}\r\n\r\nclass VideoContentSetup {\r\n  constructor(lightbox, options) {\r\n    this.options = options;\r\n\r\n    this.initLightboxEvents(lightbox);\r\n    lightbox.on('init', () => {\r\n      this.initPswpEvents(lightbox.pswp);\r\n    });\r\n  }\r\n\r\n  initLightboxEvents(lightbox) {\r\n    lightbox.on('contentLoad', this.onContentLoad.bind(this));\r\n    lightbox.on('contentDestroy', this.onContentDestroy.bind(this));\r\n    lightbox.on('contentActivate', this.onContentActivate.bind(this));\r\n    lightbox.on('contentDeactivate', this.onContentDeactivate.bind(this));\r\n    lightbox.on('contentAppend', this.onContentAppend.bind(this));\r\n    lightbox.on('contentResize', this.onContentResize.bind(this));\r\n\r\n    lightbox.addFilter('isKeepingPlaceholder', this.isKeepingPlaceholder.bind(this));\r\n    lightbox.addFilter('isContentZoomable', this.isContentZoomable.bind(this));\r\n    lightbox.addFilter('useContentPlaceholder', this.useContentPlaceholder.bind(this));\r\n\r\n    lightbox.addFilter('domItemData', (itemData, element, linkEl) => {\r\n      if (itemData.type === 'video' && linkEl) {\r\n        if (linkEl.dataset.pswpVideoSources) {\r\n          itemData.videoSources = JSON.parse(pswpVideoSources);\r\n        } else if (linkEl.dataset.pswpVideoSrc) {\r\n          itemData.videoSrc = linkEl.dataset.pswpVideoSrc;\r\n        } else {\r\n          itemData.videoSrc = linkEl.href;\r\n        }\r\n      }\r\n      return itemData;\r\n    });\r\n  }\r\n\r\n  initPswpEvents(pswp) {\r\n    // Prevent draggin when pointer is in bottom part of the video\r\n    // todo: add option for this\r\n    pswp.on('pointerDown', (e) => {\r\n      const slide = pswp.currSlide;\r\n      if (isVideoContent(slide) && this.options.preventDragOffset) {\r\n        const origEvent = e.originalEvent;\r\n        if (origEvent.type === 'pointerdown') {\r\n          const videoHeight = Math.ceil(slide.height * slide.currZoomLevel);\r\n          const verticalEnding = videoHeight + slide.bounds.center.y;\r\n          const pointerYPos = origEvent.pageY - pswp.offset.y;\r\n          if (pointerYPos > verticalEnding - this.options.preventDragOffset \r\n              && pointerYPos < verticalEnding) {\r\n            e.preventDefault();\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // do not append video on nearby slides\r\n    pswp.on('appendHeavy', (e) => {\r\n      if (isVideoContent(e.slide) && !e.slide.isActive) {\r\n        e.preventDefault();\r\n      }\r\n    });\r\n\r\n    pswp.on('close', () => {\r\n      if (isVideoContent(pswp.currSlide.content)) {\r\n        // Switch from zoom to fade closing transition,\r\n        // as zoom transition is choppy for videos\r\n        if (!pswp.options.showHideAnimationType\r\n          || pswp.options.showHideAnimationType === 'zoom') {\r\n          pswp.options.showHideAnimationType = 'fade';\r\n        }\r\n\r\n        // pause video when closing\r\n        this.pauseVideo(pswp.currSlide.content);\r\n      }\r\n    });\r\n  }\r\n\r\n  onContentDestroy({ content }) {\r\n    if (isVideoContent(content)) {\r\n      if (content._videoPosterImg) {\r\n        content._videoPosterImg.onload =  content._videoPosterImg.onerror = null;\r\n        content._videoPosterImg = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  onContentResize(e) {\r\n    if (isVideoContent(e.content)) {\r\n      e.preventDefault();\r\n\r\n      const width = e.width;\r\n      const height = e.height;\r\n      const content = e.content;\r\n\r\n      if (content.element) {\r\n        content.element.style.width = width + 'px';\r\n        content.element.style.height = height + 'px';\r\n      }\r\n  \r\n      if (content.slide && content.slide.placeholder) {\r\n        // override placeholder size, so it more accurately matches the video\r\n        const placeholderElStyle = content.slide.placeholder.element.style;\r\n        placeholderElStyle.transform = 'none';\r\n        placeholderElStyle.width = width + 'px';\r\n        placeholderElStyle.height = height + 'px';\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  isKeepingPlaceholder(isZoomable, content) {\r\n    if (isVideoContent(content)) {\r\n      return false;\r\n    }\r\n    return isZoomable;\r\n  }\r\n\r\n  isContentZoomable(isZoomable, content) {\r\n    if (isVideoContent(content)) {\r\n      return false;\r\n    }\r\n    return isZoomable;\r\n  }\r\n\r\n  onContentActivate({ content }) {\r\n    if (isVideoContent(content) && this.options.autoplay) {\r\n      this.playVideo(content);\r\n    }\r\n  }\r\n\r\n  onContentDeactivate({ content }) {\r\n    if (isVideoContent(content)) {\r\n      this.pauseVideo(content);\r\n    }\r\n  }\r\n\r\n  onContentAppend(e) {\r\n    if (isVideoContent(e.content)) {\r\n      e.preventDefault();\r\n      e.content.isAttached = true;\r\n      e.content.appendImage();\r\n    }\r\n  }\r\n\r\n  onContentLoad(e) {\r\n    const content = e.content; // todo: videocontent\r\n\r\n    if (!isVideoContent(e.content)) {\r\n      return;\r\n    }\r\n\r\n    // stop default content load\r\n    e.preventDefault();\r\n\r\n    if (content.element) {\r\n      return;\r\n    }\r\n\r\n    content.state = 'loading';\r\n    content.type = 'video'; // TODO: move this to pswp core?\r\n\r\n    content.element = document.createElement('video');\r\n\r\n    if (this.options.videoAttributes) {\r\n      for(let key in this.options.videoAttributes) {\r\n        content.element.setAttribute(key, this.options.videoAttributes[key] || '');\r\n      }\r\n    }\r\n\r\n    content.element.setAttribute('poster', content.data.msrc);\r\n\r\n    this.preloadVideoPoster(content, content.data.msrc);\r\n\r\n    content.element.style.position = 'absolute';\r\n    content.element.style.left = 0;\r\n    content.element.style.top = 0;\r\n    \r\n    if (content.data.videoSources) {\r\n      content.data.videoSources.forEach((source) => {\r\n        let sourceEl = document.createElement('source');\r\n        sourceEl.src = source.src;\r\n        sourceEl.type = source.type;\r\n        content.element.appendChild(sourceEl);\r\n      });\r\n    } else if (content.data.videoSrc) {\r\n      // Force video preload\r\n      // https://muffinman.io/blog/hack-for-ios-safari-to-display-html-video-thumbnail/\r\n      // this.element.src = this.data.videoSrc + '#t=0.001';\r\n      content.element.src = content.data.videoSrc;\r\n    }\r\n  }\r\n\r\n  preloadVideoPoster(content, src) {\r\n    if (!content._videoPosterImg && src) {\r\n      content._videoPosterImg = new Image();\r\n      content._videoPosterImg.src = src;\r\n      if (content._videoPosterImg.complete) {\r\n        content.onLoaded();\r\n      } else {\r\n        content._videoPosterImg.onload =  content._videoPosterImg.onerror = () => {\r\n          content.onLoaded();\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  playVideo(content) {\r\n    if (content.element) {\r\n      content.element.play();\r\n    }\r\n  }\r\n\r\n  pauseVideo(content) {\r\n    if (content.element) {\r\n      content.element.pause();\r\n    }\r\n  }\r\n\r\n  useContentPlaceholder(usePlaceholder, content) {\r\n    if (isVideoContent(content)) {\r\n      return true;\r\n    }\r\n    return usePlaceholder;\r\n  }\r\n\r\n}\r\n\r\nexport default VideoContentSetup;\r\n","import { defaultOptions } from './default-options.js';\r\nimport VideoContentSetup from './video-content-setup.js';\r\n\r\nclass PhotoSwipeVideoPlugin {\r\n  constructor(lightbox, options) {\r\n    new VideoContentSetup(lightbox, {\r\n      ...defaultOptions,\r\n      ...options\r\n    });\r\n  }\r\n}\r\n\r\nexport default PhotoSwipeVideoPlugin;\r\n","import { LitElement, html } from 'lit'\nimport { customElement, property } from 'lit/decorators.js'\nimport { ToujouPortfolioGalleryStyles } from \"./toujou-portfolio-gallery.styles.js\";\nimport PhotoSwipe from 'photoswipe';\n// @ts-ignore\nimport PhotoSwipeLightbox from 'photoswipe/lightbox';\n// @ts-ignore\nimport PhotoSwipeVideoPlugin from 'photoswipe-video-plugin';\n\n@customElement('toujou-portfolio-gallery')\nexport class ToujouPortfolioGallery extends LitElement {\n    static styles = [ ToujouPortfolioGalleryStyles ];\n\n    @property({ type: Number }) _currentImageIndex: number = 1;\n    @property({ type: Number }) _imageCount: number | undefined = 0;\n    private lightbox: any;\n    protected videoPlugin: any;\n\n    /**\n     * Get the child elements of the slider\n     */\n    get #sliderContent() {\n        const sliderSlot = this.shadowRoot?.querySelector('#slider') as HTMLSlotElement;\n        if (!sliderSlot) return null;\n\n        const sliderElements = sliderSlot.assignedElements({ flatten: true });\n        return sliderElements[0] || null;\n    }\n\n    /**\n     * Get the first image link inside the slider\n     */\n    get #firstSliderImageLink() {\n        const firstImage = this.#sliderContent?.querySelector('a.slider__item') as HTMLAnchorElement;\n        return  firstImage || null;\n    }\n\n    /**\n     * Get the portfolio id, so we can create a unique lightbox\n     * @private\n     */\n    get #portfolioGalleryID() {\n        const portfolioGalleryID = this.getAttribute('id');\n        return portfolioGalleryID ? `#${portfolioGalleryID}` : undefined;\n    }\n\n    /**\n     * Initialize the lightbox when the portfolio gallery element first loads\n     */\n    connectedCallback() {\n        super.connectedCallback();\n\n        this._initializeLightbox();\n    }\n\n    /**\n     * Render the slots for the element's content\n     */\n    render() {\n        return html`\n            <slot id=\"slider\" name=\"slider\"></slot>\n            <slot id=\"button\" name=\"button\" @click=\"${this._handleButtonClick}\"></slot>\n        `\n    }\n\n    /**\n     * Initialize the lightbox with the correct settings\n     */\n    _initializeLightbox() {\n        this.lightbox = new PhotoSwipeLightbox({\n            gallery: this.#portfolioGalleryID,\n            children: '.slider-slide',\n            pswpModule: PhotoSwipe,\n            allowPanToNext: true,\n            preloaderDelay: 0,\n        })\n\n        this.lightbox.on('uiRegister', () => this._handleLightboxUiRegister());\n\n        this.videoPlugin = new PhotoSwipeVideoPlugin(this.lightbox, {\n            autoplay: false\n        });\n\n        this.lightbox.init();\n    }\n\n    /**\n     * Add the caption text to the lightbox\n     */\n    _handleLightboxUiRegister = () => {\n        this.lightbox.pswp.ui.registerElement({\n            name: 'caption',\n            order: 9,\n            isButton: false,\n            appendTo: 'root',\n            onInit: (el: HTMLElement) => {\n                this.lightbox.pswp.on('change', () => this._handleLightboxChange(el));\n            },\n        });\n    }\n\n    /**\n     * React to change on the lightbox so that we can add the correct caption text\n     * @param {HTMLElement} el\n     */\n    _handleLightboxChange = (el: HTMLElement) => {\n        let captionText = '';\n        const currSlideElement = this.lightbox.pswp.currSlide.data.element || null;\n        const currSlideLink = currSlideElement?.querySelector('a.slider__item') || null;\n        if (currSlideLink) {\n            captionText = currSlideLink.getAttribute('title');\n        }\n\n        el.textContent = captionText ? captionText : '';\n    }\n\n    /**\n     * Open lightbox when the button is clicked\n     */\n    _handleButtonClick() {\n        const currentVisibleImageLink = this.#sliderContent?.querySelector('.slider-slide.is-active.is-visible .slider__item') as HTMLAnchorElement;\n        currentVisibleImageLink\n            ? currentVisibleImageLink.click()\n            : this.#firstSliderImageLink.click();\n    }\n}\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'toujou-portfolio-gallery': ToujouPortfolioGallery\n    }\n}\n"],"names":["ToujouPortfolioGalleryStyles","css","defaultOptions","isVideoContent","content","VideoContentSetup","lightbox","options","itemData","element","linkEl","pswp","e","slide","origEvent","verticalEnding","pointerYPos","width","height","placeholderElStyle","isZoomable","key","source","sourceEl","src","usePlaceholder","PhotoSwipeVideoPlugin","_sliderContent","sliderContent_get","_firstSliderImageLink","firstSliderImageLink_get","_portfolioGalleryID","portfolioGalleryID_get","ToujouPortfolioGallery","LitElement","__privateAdd","el","captionText","currSlideElement","currSlideLink","html","PhotoSwipeLightbox","__privateGet","PhotoSwipe","currentVisibleImageLink","_a","sliderSlot","portfolioGalleryID","__decorateClass","property","customElement"],"mappings":"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"}