var e=Object.defineProperty;import{i as t}from"./main-nav.js";import{i as n,s as o,y as i,Z as r}from"./lit-element-D9Ui1_BQ.js";import{_ as a,a as s}from"./tslib.es6-Br7-PHSQ.js";import{e as c}from"./custom-element-DPYutfhb.js";import{e as l}from"./property-D5hxO1nL.js";import"./query-assigned-elements-CrfAJxAz.js";import{a as u,d}from"./redux-DZjclC9Z.js";function h(){t()}!function(){var e=function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++)o(e[t])},o=function(e){var t=e.target,n=e.attributeName,o=e.oldValue;t.attributeChangedCallback(n,o,t.getAttribute(n))};return function(i,r){var a=i.constructor.observedAttributes;return a&&e(r).then((function(){new t(n).observe(i,{attributes:!0,attributeOldValue:!0,attributeFilter:a});for(var e=0,r=a.length;e<r;e++)i.hasAttribute(a[e])&&o({target:i,attributeName:a[e],oldValue:null})})),i}};function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function n(e,n){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e))||n){o&&(e=o);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==o.return||o.return()}finally{if(c)throw a}}}}var o=!0,i=!1,r="querySelectorAll",a="querySelectorAll",s=self,c=s.document,l=s.Element,u=s.MutationObserver,d=s.Set,h=s.WeakMap,m=function(e){return a in e},p=[].filter,f=function(e){var t=new h,s=function(n,o){var i;if(o)for(var r,a=function(e){return e.matches||e.webkitMatchesSelector||e.msMatchesSelector}(n),s=0,c=g.length;s<c;s++)a.call(n,r=g[s])&&(t.has(n)||t.set(n,new d),(i=t.get(n)).has(r)||(i.add(r),e.handle(n,o,r)));else t.has(n)&&(i=t.get(n),t.delete(n),i.forEach((function(t){e.handle(n,o,t)})))},f=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,o=e.length;n<o;n++)s(e[n],t)},g=e.query,b=e.root||c,v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MutationObserver,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["*"],c=function t(i,a,s,c,l,u){var d,h=n(i);try{for(h.s();!(d=h.n()).done;){var m=d.value;(u||r in m)&&(l?s.has(m)||(s.add(m),c.delete(m),e(m,l)):c.has(m)||(c.add(m),s.delete(m),e(m,l)),u||t(m[r](a),a,s,c,l,o))}}catch(p){h.e(p)}finally{h.f()}},l=new a((function(e){if(s.length){var t,r=s.join(","),a=new Set,l=new Set,u=n(e);try{for(u.s();!(t=u.n()).done;){var d=t.value,h=d.addedNodes,m=d.removedNodes;c(m,r,a,l,i,i),c(h,r,a,l,o,i)}}catch(p){u.e(p)}finally{u.f()}}})),u=l.observe;return(l.observe=function(e){return u.call(l,e,{subtree:o,childList:o})})(t),l}(s,b,u,g),y=l.prototype.attachShadow;return y&&(l.prototype.attachShadow=function(e){var t=y.call(this,e);return v.observe(t),t}),g.length&&f(b[a](g)),{drop:function(e){for(var n=0,o=e.length;n<o;n++)t.delete(e[n])},flush:function(){for(var e=v.takeRecords(),t=0,n=e.length;t<n;t++)f(p.call(e[t].removedNodes,m),!1),f(p.call(e[t].addedNodes,m),!0)},observer:v,parse:f}},g=self,b=g.document,v=g.Map,y=g.MutationObserver,w=g.Object,k=g.Set,S=g.WeakMap,_=g.Element,E=g.HTMLElement,j=g.Node,T=g.Error,C=g.TypeError,x=g.Reflect,O=w.defineProperty,A=w.keys,I=w.getOwnPropertyNames,M=w.setPrototypeOf,R=!self.customElements,N=function(e){for(var t=A(e),n=[],o=new k,i=t.length,r=0;r<i;r++){n[r]=e[t[r]];try{delete e[t[r]]}catch(a){o.add(r)}}return function(){for(var r=0;r<i;r++)o.has(r)||(e[t[r]]=n[r])}};if(R){var L=function(){var e=this.constructor;if(!P.has(e))throw new C("Illegal constructor");var t=P.get(e);if(q)return $(q,t);var n=z.call(b,t);return $(M(n,e.prototype),t)},z=b.createElement,P=new v,B=new v,D=new v,F=new v,H=[],U=f({query:H,handle:function(e,t,n){var o=D.get(n);if(t&&!o.isPrototypeOf(e)){var i=N(e);q=M(e,o);try{new o.constructor}finally{q=null,i()}}var r="".concat(t?"":"dis","connectedCallback");r in o&&e[r]()}}).parse,q=null,W=function(e){if(!B.has(e)){var t,n=new Promise((function(e){t=e}));B.set(e,{$:n,_:t})}return B.get(e).$},$=e(W,y);self.customElements={define:function(e,t){if(F.has(e))throw new T('the name "'.concat(e,'" has already been used with this registry'));P.set(t,e),D.set(e,t.prototype),F.set(e,t),H.push(e),W(e).then((function(){U(b.querySelectorAll(e))})),B.get(e)._(t)},get:function(e){return F.get(e)},whenDefined:W},O(L.prototype=E.prototype,"constructor",{value:L}),self.HTMLElement=L,b.createElement=function(e,t){var n=t&&t.is,o=n?F.get(n):F.get(e);return o?new o:z.call(b,e)},"isConnected"in j.prototype||O(j.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(R=!self.customElements.get("extends-br"))try{var V=function e(){return self.Reflect.construct(HTMLBRElement,[],e)};V.prototype=HTMLLIElement.prototype;var G="extends-br";self.customElements.define("extends-br",V,{extends:"br"}),R=b.createElement("br",{is:G}).outerHTML.indexOf(G)<0;var J=self.customElements,Y=J.get,X=J.whenDefined;self.customElements.whenDefined=function(e){var t=this;return X.call(this,e).then((function(n){return n||Y.call(t,e)}))}}catch(ye){}if(R){var K=function(e){var t=ie.get(e);me(t.querySelectorAll(this),e.isConnected)},Q=self.customElements,Z=b.createElement,ee=Q.define,te=Q.get,ne=Q.upgrade,oe=(x||{construct:function(e){return e.call(this)}}).construct,ie=new S,re=new k,ae=new v,se=new v,ce=new v,le=new v,ue=[],de=[],he=function(e){return le.get(e)||te.call(Q,e)},me=f({query:de,handle:function(e,t,n){var o=ce.get(n);if(t&&!o.isPrototypeOf(e)){var i=N(e);ve=M(e,o);try{new o.constructor}finally{ve=null,i()}}var r="".concat(t?"":"dis","connectedCallback");r in o&&e[r]()}}).parse,pe=f({query:ue,handle:function(e,t){ie.has(e)&&(t?re.add(e):re.delete(e),de.length&&K.call(de,e))}}).parse,fe=_.prototype.attachShadow;fe&&(_.prototype.attachShadow=function(e){var t=fe.call(this,e);return ie.set(this,t),t});var ge=function(e){if(!se.has(e)){var t,n=new Promise((function(e){t=e}));se.set(e,{$:n,_:t})}return se.get(e).$},be=e(ge,y),ve=null;I(self).filter((function(e){return/^HTML.*Element$/.test(e)})).forEach((function(e){var t=self[e];function n(){var e=this.constructor;if(!ae.has(e))throw new C("Illegal constructor");var n=ae.get(e),o=n.is,i=n.tag;if(o){if(ve)return be(ve,o);var r=Z.call(b,i);return r.setAttribute("is",o),be(M(r,e.prototype),o)}return oe.call(this,t,[],e)}O(n.prototype=t.prototype,"constructor",{value:n}),O(self,e,{value:n})})),b.createElement=function(e,t){var n=t&&t.is;if(n){var o=le.get(n);if(o&&ae.get(o).tag===e)return new o}var i=Z.call(b,e);return n&&i.setAttribute("is",n),i},Q.get=he,Q.whenDefined=ge,Q.upgrade=function(e){var t=e.getAttribute("is");if(t){var n=le.get(t);if(n)return void be(M(e,n.prototype),t)}ne.call(Q,e)},Q.define=function(e,t,n){if(he(e))throw new T("'".concat(e,"' has already been defined as a custom element"));var o,i=n&&n.extends;ae.set(t,i?{is:e,tag:i}:{is:"",tag:e}),i?(o="".concat(i,'[is="').concat(e,'"]'),ce.set(o,t.prototype),le.set(e,t),de.push(o)):(ee.apply(Q,arguments),ue.push(o=e)),ge(e).then((function(){i?(me(b.querySelectorAll(o)),re.forEach(K,[o])):pe(b.querySelectorAll(o))})),se.get(e)._(t)}}}(),"loading"!==document.readyState?setTimeout((()=>{h()})):document.addEventListener("DOMContentLoaded",(()=>{h()}));var m=!1;if("undefined"!=typeof window){var p={get passive(){m=!0}};window.addEventListener("testPassive",null,p),window.removeEventListener("testPassive",null,p)}var f,g="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),b=[],v=!1,y=-1,w=void 0,k=void 0,S=void 0,_=function(e){return b.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},E=function(e){var t=e||window.event;return!!_(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},j=function(){void 0!==S&&(document.body.style.paddingRight=S,S=void 0),void 0!==w&&(document.body.style.overflow=w,w=void 0)},T=function(){if(void 0!==k){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=k.position,document.body.style.top=k.top,document.body.style.left=k.left,window.scrollTo(t,e),k=void 0}},C=function(e,t){if(e){if(!b.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};b=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(b),[n]),g?window.requestAnimationFrame((function(){if(void 0===k){k={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,o=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout((function(){return window.requestAnimationFrame((function(){var e=o-window.innerHeight;e&&t>=o&&(document.body.style.top=-(t+e))}))}),300)}})):function(e){if(void 0===S){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);S=document.body.style.paddingRight,document.body.style.paddingRight=o+n+"px"}}void 0===w&&(w=document.body.style.overflow,document.body.style.overflow="hidden")}(t),g&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(y=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-y;!_(e.target)&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?E(e):e.stopPropagation())}(t,e)},v||(document.addEventListener("touchmove",E,m?{passive:!1}:void 0),v=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")},x={exports:{}};f=x,console.info("\nIFRAME-RESIZER\n\nIframe-Resizer 5 is now available via the following two packages:\n\n * @iframe-resizer/parent\n * @iframe-resizer/child\n\nAdditionally their are also new versions of iframe-resizer for React, Vue, and jQuery.\n\nVersion 5 of iframe-resizer has been extensively rewritten to use modern browser APIs, which has enabled significantly better performance and greater accuracy in the detection of content resizing events.\n\nPlease see https://iframe-resizer.com/upgrade for more details.\n"),function(e){if("undefined"!=typeof window){var t,n,o=0,i=!1,r=!1,a="[iFrameSizer]",s=null,c=window.requestAnimationFrame,l=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),u={},d=null,h=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,license:"1jqr0si6pnt",log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){S("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}}),m={};window.jQuery!==e&&((n=window.jQuery).fn?n.fn.iFrameResize||(n.fn.iFrameResize=function(e){return this.filter("iframe").each((function(t,n){z(n,e)})).end()}):k("","Unable to bind to jQuery, it is not fully loaded.")),f.exports=H(),window.iFrameResize=window.iFrameResize||H()}function p(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function g(e,t,n){e.addEventListener(t,n,!1)}function b(e,t,n){e.removeEventListener(t,n,!1)}function v(e){return a+"["+function(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}(e)+"]"}function y(e){return u[e]?u[e].log:i}function w(e,t){_("log",e,t,y(e))}function k(e,t){_("info",e,t,y(e))}function S(e,t){_("warn",e,t,!0)}function _(e,t,n,o){!0===o&&"object"==typeof window.console&&console[e](v(t),n)}function E(e){function t(){i("Height"),i("Width"),R((function(){M(D),O(F),f("onResized",D)}),D,"init")}function n(e){return"border-box"!==e.boxSizing?0:(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}function o(e){return"border-box"!==e.boxSizing?0:(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}function i(e){var t=Number(u[F]["max"+e]),n=Number(u[F]["min"+e]),o=e.toLowerCase(),i=Number(D[o]);w(F,"Checking "+o+" is in range "+n+"-"+t),i<n&&(i=n,w(F,"Set "+o+" to min value")),i>t&&(i=t,w(F,"Set "+o+" to max value")),D[o]=""+i}function r(e){return B.slice(B.indexOf(":")+7+e)}function c(e,t){var n,o,i;n=function(){var n,o;N("Send Page Info","pageInfo:"+(n=document.body.getBoundingClientRect(),o=D.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:o.height,iframeWidth:o.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(o.top-n.top,10),offsetLeft:parseInt(o.left-n.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})),e,t)},o=32,m[i=t]||(m[i]=setTimeout((function(){m[i]=null,n()}),o))}function l(e){var t=e.getBoundingClientRect();return x(F),{x:Math.floor(Number(t.left)+Number(s.x)),y:Math.floor(Number(t.top)+Number(s.y))}}function d(e){var t=e?l(D.iframe):{x:0,y:0},n={x:Number(D.width)+t.x,y:Number(D.height)+t.y};w(F,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top===window.self?(s=n,h(),w(F,"--")):window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):S(F,"Unable to scroll to requested position, window.parentIFrame not found")}function h(){!1===f("onScroll",s)?A():O(F)}function p(e){var t={};if(0===Number(D.width)&&0===Number(D.height)){var n=r(9).split(":");t={x:n[1],y:n[0]}}else t={x:D.width,y:D.height};f(e,{iframe:D.iframe,screenX:Number(t.x),screenY:Number(t.y),type:D.type})}function f(e,t){return j(F,e,t)}var v,y,_,E,T,z,P,B=e.data,D={},F=null;"[iFrameResizerChild]Ready"===B?function(){for(var e in u)N("iFrame requested init",L(e),u[e].iframe,e)}():a===(""+B).slice(0,13)&&B.slice(13).split(":")[0]in u?(E=B.slice(13).split(":"),T=E[1]?parseInt(E[1],10):0,z=u[E[0]]&&u[E[0]].iframe,P=getComputedStyle(z),D={iframe:z,id:E[0],height:T+n(P)+o(P),width:E[2],type:E[3]},F=D.id,u[F]&&(u[F].loaded=!0),(_=D.type in{true:1,false:1,undefined:1})&&w(F,"Ignoring init message from meta parent page"),!_&&(y=!0,u[v=F]||(y=!1,S(D.type+" No settings for "+v+". Message was: "+B)),y)&&(w(F,"Received: "+B),function(){var e=!0;return null===D.iframe&&(S(F,"IFrame ("+D.id+") not found"),e=!1),e}()&&function(){var t,n=e.origin,o=u[F]&&u[F].checkOrigin;if(o&&""+n!="null"&&!(o.constructor===Array?function(){var e=0,t=!1;for(w(F,"Checking connection is from allowed list of origins: "+o);e<o.length;e++)if(o[e]===n){t=!0;break}return t}():(t=u[F]&&u[F].remoteHost,w(F,"Checking connection is from: "+t),n===t)))throw new Error("Unexpected message received from: "+n+" for "+D.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(u[F]&&u[F].firstRun&&u[F]&&(u[F].firstRun=!1),D.type){case"close":C(D.iframe);break;case"message":a=r(6),w(F,"onMessage passed: {iframe: "+D.iframe.id+", message: "+a+"}"),f("onMessage",{iframe:D.iframe,message:JSON.parse(a)}),w(F,"--");break;case"mouseenter":p("onMouseEnter");break;case"mouseleave":p("onMouseLeave");break;case"autoResize":u[F].autoResize=JSON.parse(r(9));break;case"scrollTo":d(!1);break;case"scrollToOffset":d(!0);break;case"pageInfo":c(u[F]&&u[F].iframe,F),function(){function e(e,o){function i(){u[n]?c(u[n].iframe,n):t()}["scroll","resize"].forEach((function(t){w(n,e+t+" listener for sendPageInfo"),o(window,t,i)}))}function t(){e("Remove ",b)}var n=F;e("Add ",g),u[n]&&(u[n].stopPageInfo=t)}();break;case"pageInfoStop":u[F]&&u[F].stopPageInfo&&(u[F].stopPageInfo(),delete u[F].stopPageInfo);break;case"inPageLink":n=r(9).split("#")[1]||"",o=decodeURIComponent(n),(i=document.getElementById(o)||document.getElementsByName(o)[0])?(e=l(i),w(F,"Moving to in page link (#"+n+") at x: "+e.x+" y: "+e.y),s={x:e.x,y:e.y},h(),w(F,"--")):window.top===window.self?w(F,"In page link #"+n+" not found"):window.parentIFrame?window.parentIFrame.moveToAnchor(n):w(F,"In page link #"+n+" not found and window.parentIFrame not found");break;case"reset":I(D);break;case"init":t(),f("onInit",D.iframe);break;default:0===Number(D.width)&&0===Number(D.height)?S("Unsupported message received ("+D.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):t()}var e,n,o,i,a}())):k(F,"Ignored: "+B)}function j(e,t,n){var o=null,i=null;if(u[e]){if("function"!=typeof(o=u[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");i=o(n)}return i}function T(e){var t=e.id;delete u[t]}function C(e){var n=e.id;if(!1!==j(n,"onClose",n)){w(n,"Removing iFrame: "+n);try{e.parentNode&&e.parentNode.removeChild(e)}catch(o){S(o)}j(n,"onClosed",n),w(n,"--"),T(e),t&&(t.disconnect(),t=null)}else w(n,"Close iframe cancelled by onClose event")}function x(t){null===s&&w(t,"Get page position: "+(s={x:window.pageXOffset===e?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===e?document.documentElement.scrollTop:window.pageYOffset}).x+","+s.y)}function O(e){null!==s&&(window.scrollTo(s.x,s.y),w(e,"Set page position: "+s.x+","+s.y),A())}function A(){s=null}function I(e){w(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),x(e.id),R((function(){M(e),N("reset","reset",e.iframe,e.id)}),e,"reset")}function M(e){function t(t){r||"0"!==e[t]||(r=!0,w(o,"Hidden iFrame detected, creating visibility listener"),function(){function e(){function e(e){function t(t){return"0px"===(u[e]&&u[e].iframe.style[t])}function n(e){return null!==e.offsetParent}u[e]&&n(u[e].iframe)&&(t("height")||t("width"))&&N("Visibility change","resize",u[e].iframe,e)}Object.keys(u).forEach((function(t){e(t)}))}function t(t){w("window","Mutation observed: "+t[0].target+" "+t[0].type),P(e,16)}function n(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new o(t).observe(e,n)}var o=p();o&&n()}())}function n(n){!function(t){e.id?(e.iframe.style[t]=e[t]+"px",w(e.id,"IFrame ("+o+") "+t+" set to "+e[t]+"px")):w("undefined","messageData id not set")}(n),t(n)}var o=e.iframe.id;u[o]&&(u[o].sizeHeight&&n("height"),u[o].sizeWidth&&n("width"))}function R(e,t,n){n!==t.type&&c&&!window.jasmine?(w(t.id,"Requesting animation frame"),c(e)):e()}function N(e,t,n,o,i){var r,s=!1;o=o||n.id,u[o]&&(n&&"contentWindow"in n&&null!==n.contentWindow?(r=u[o]&&u[o].targetOrigin,w(o,"["+e+"] Sending msg to iframe["+o+"] ("+t+") targetOrigin: "+r),n.contentWindow.postMessage(a+t,r)):S(o,"["+e+"] IFrame("+o+") not found"),i&&u[o]&&u[o].warningTimeout&&(u[o].msgTimeout=setTimeout((function(){!u[o]||u[o].loaded||s||(s=!0,S(o,"IFrame has not responded within "+u[o].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),u[o].warningTimeout)))}function L(e){return e+":"+u[e].bodyMarginV1+":"+u[e].sizeWidth+":"+u[e].log+":"+u[e].interval+":"+u[e].enablePublicMethods+":"+u[e].autoResize+":"+u[e].bodyMargin+":"+u[e].heightCalculationMethod+":"+u[e].bodyBackground+":"+u[e].bodyPadding+":"+u[e].tolerance+":"+u[e].inPageLinks+":"+u[e].resizeFrom+":"+u[e].widthCalculationMethod+":"+u[e].mouseEvents}function z(n,r){function a(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],S(f,"Deprecated: '"+e+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}var s,c,d,m,f=function(e){if("string"!=typeof e)throw new TypeError("Invaild id for iFrame. Expected String");var t;return""===e&&(n.id=(t=r&&r.id||h.id+o++,null!==document.getElementById(t)&&(t+=o++),e=t),i=(r||{}).log,w(e,"Added missing iframe ID: "+e+" ("+n.src+")")),e}(n.id);f in u&&"iFrameResizer"in n?S(f,"Ignored iFrame, already setup."):(d=(d=r)||{},u[f]=Object.create(null),u[f].iframe=n,u[f].firstRun=!0,u[f].remoteHost=n.src&&n.src.split("/").slice(0,3).join("/"),function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(d),Object.keys(d).forEach(a,d),function(e){for(var t in h)Object.prototype.hasOwnProperty.call(h,t)&&(u[f][t]=Object.prototype.hasOwnProperty.call(e,t)?e[t]:h[t])}(d),u[f]&&(u[f].targetOrigin=!0===u[f].checkOrigin?""===(m=u[f].remoteHost)||null!==m.match(/^(about:blank|javascript:|file:\/\/)/)?"*":m:"*"),function(){switch(w(f,"IFrame scrolling "+(u[f]&&u[f].scrolling?"enabled":"disabled")+" for "+f),n.style.overflow=!1===(u[f]&&u[f].scrolling)?"hidden":"auto",u[f]&&u[f].scrolling){case"omit":break;case!0:n.scrolling="yes";break;case!1:n.scrolling="no";break;default:n.scrolling=u[f]?u[f].scrolling:"no"}}(),function(){function e(e){var t=u[f][e];1/0!==t&&0!==t&&(n.style[e]="number"==typeof t?t+"px":t,w(f,"Set "+e+" = "+n.style[e]))}function t(e){if(u[f]["min"+e]>u[f]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}t("Height"),t("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),"number"!=typeof(u[f]&&u[f].bodyMargin)&&"0"!==(u[f]&&u[f].bodyMargin)||(u[f].bodyMarginV1=u[f].bodyMargin,u[f].bodyMargin=u[f].bodyMargin+"px"),s=L(f),(c=p())&&(t=function(e){if(!n.parentNode)return null;var t=new e((function(e){e.forEach((function(e){Array.prototype.slice.call(e.removedNodes).forEach((function(e){e===n&&C(n)}))}))}));return t.observe(n.parentNode,{childList:!0}),t}(c)),g(n,"load",(function(){var t,o;N("iFrame.onload",s,n,e,!0),t=u[f]&&u[f].firstRun,o=u[f]&&u[f].heightCalculationMethod in l,!t&&o&&I({iframe:n,height:0,width:0,type:"init"})})),N("init",s,n,e,!0),u[f]&&(u[f].iframe.iFrameResizer={close:C.bind(null,u[f].iframe),removeListeners:T.bind(null,u[f].iframe),resize:N.bind(null,"Window resize","resize",u[f].iframe),moveToAnchor:function(e){N("Move to anchor","moveToAnchor:"+e,u[f].iframe,f)},sendMessage:function(e){N("Send Message","message:"+(e=JSON.stringify(e)),u[f].iframe,f)}}))}function P(e,t){null===d&&(d=setTimeout((function(){d=null,e()}),t))}function B(){"hidden"!==document.visibilityState&&(w("document","Trigger event: Visibility change"),P((function(){D("Tab Visible","resize")}),16))}function D(e,t){Object.keys(u).forEach((function(n){(function(e){return u[e]&&"parent"===u[e].resizeFrom&&u[e].autoResize&&!u[e].firstRun})(n)&&N(e,t,u[n].iframe,n)}))}function F(){g(window,"message",E),g(window,"resize",(function(){var e;w("window","Trigger event: "+(e="resize")),P((function(){D("Window "+e,"resize")}),16)})),g(document,"visibilitychange",B),g(document,"-webkit-visibilitychange",B)}function H(){function t(e,t){t&&(function(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),z(t,e),n.push(t))}var n;return function(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!c;e+=1)c=window[t[e]+"RequestAnimationFrame"];c?c=c.bind(window):w("setup","RequestAnimationFrame not supported")}(),F(),function(o,i){switch(n=[],function(e){e&&e.enablePublicMethods&&S("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(o),typeof i){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),t.bind(e,o));break;case"object":t(o,i);break;default:throw new TypeError("Unexpected data type ("+typeof i+")")}return n}}}();var O=x.exports,A={exports:{}};!function(e){!function(t){if("undefined"!=typeof window){var n=!0,o="",i=0,r="",a=null,s="",c=!1,l={resize:1,click:1},u=128,d=!0,h=1,m="bodyOffset",p=m,f=!0,g="",b={},v=32,y=null,w=!1,k=!1,S="[iFrameSizer]",_="",E={max:1,min:1,bodyScroll:1,documentElementScroll:1},j="child",T=window.parent,C="*",x=0,O=!1,A=null,I=16,M=1,R="scroll",N=R,L=window,z=function(){ie("onMessage function not defined")},P=function(){},B=function(){},D={height:function(){return ie("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return ie("Custom width calculation function not defined"),document.body.scrollWidth}},F={},H=!1;try{var U=Object.create({},{passive:{get:function(){H=!0}}});window.addEventListener("test",Z,U),window.removeEventListener("test",Z,U)}catch(xe){}var q,W,$,V,G,J,Y,X={bodyOffset:function(){return document.body.offsetHeight+fe("marginTop")+fe("marginBottom")},offset:function(){return X.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return D.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,be(X))},min:function(){return Math.min.apply(null,be(X))},grow:function(){return X.max()},lowestElement:function(){return Math.max(X.bodyOffset()||X.documentElementOffset(),ge("bottom",ye()))},taggedElement:function(){return ve("bottom","data-iframe-height")}},K={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return D.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(K.bodyScroll(),K.documentElementScroll())},max:function(){return Math.max.apply(null,be(K))},min:function(){return Math.min.apply(null,be(K))},rightMostElement:function(){return ge("right",ye())},taggedElement:function(){return ve("right","data-iframe-width")}},Q=(q=we,G=null,J=0,Y=function(){J=Date.now(),G=null,V=q.apply(W,$),G||(W=$=null)},function(){var e=Date.now();J||(J=e);var t=I-(e-J);return W=this,$=arguments,t<=0||t>I?(G&&(clearTimeout(G),G=null),J=e,V=q.apply(W,$),G||(W=$=null)):G||(G=setTimeout(Y,t)),V});"iframeResizer"in window||(window.iframeChildListener=function(e){Te({data:e,sameDomian:!0})},ee(window,"message",Te),ee(window,"readystatechange",Ce),Ce())}function Z(){}function ee(e,t,n,o){e.addEventListener(t,n,!!H&&(o||{}))}function te(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ne(e){return S+"["+_+"] "+e}function oe(e){w&&"object"==typeof window.console&&console.log(ne(e))}function ie(e){"object"==typeof window.console&&console.warn(ne(e))}function re(){var e;!function(){function e(e){return"true"===e}var a=g.slice(13).split(":");_=a[0],i=t===a[1]?i:Number(a[1]),c=t===a[2]?c:e(a[2]),w=t===a[3]?w:e(a[3]),v=t===a[4]?v:Number(a[4]),n=t===a[6]?n:e(a[6]),r=a[7],p=t===a[8]?p:a[8],o=a[9],s=a[10],x=t===a[11]?x:Number(a[11]),b.enable=t!==a[12]&&e(a[12]),j=t===a[13]?j:a[13],N=t===a[14]?N:a[14],k=t===a[15]?k:e(a[15])}(),oe("Initialising iFrame ("+window.location.href+")"),function(){function e(){var e=window.iFrameResizer;oe("Reading data from page: "+JSON.stringify(e)),Object.keys(e).forEach(ae,e),z="onMessage"in e?e.onMessage:z,P="onReady"in e?e.onReady:P,C="targetOrigin"in e?e.targetOrigin:C,p="heightCalculationMethod"in e?e.heightCalculationMethod:p,N="widthCalculationMethod"in e?e.widthCalculationMethod:N}function t(e,t){return"function"==typeof e&&(oe("Setup custom "+t+"CalcMethod"),D[t]=e,e="custom"),e}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(e(),p=t(p,"height"),N=t(N,"width"));oe("TargetOrigin for parent set to: "+C)}(),function(){t===r&&(r=i+"px");se("margin",function(e,t){-1!==t.indexOf("-")&&(ie("Negative CSS value ignored for "+e),t="");return t}("margin",r))}(),se("background",o),se("padding",s),(e=document.createElement("div")).style.clear="both",e.style.display="block",e.style.height="0",document.body.appendChild(e),de(),he(),document.documentElement.style.height="",document.body.style.height="",oe('HTML & body height set to "auto"'),oe("Enable public methods"),L.parentIFrame={autoResize:function(e){return!0===e&&!1===n?(n=!0,me()):!1===e&&!0===n&&(n=!1,le("remove"),null!==a&&a.disconnect(),clearInterval(y)),je(0,0,"autoResize",JSON.stringify(n)),n},close:function(){je(0,0,"close")},getId:function(){return _},getPageInfo:function(e){"function"==typeof e?(B=e,je(0,0,"pageInfo")):(B=function(){},je(0,0,"pageInfoStop"))},moveToAnchor:function(e){b.findTarget(e)},reset:function(){Ee("parentIFrame.reset")},scrollTo:function(e,t){je(t,e,"scrollTo")},scrollToOffset:function(e,t){je(t,e,"scrollToOffset")},sendMessage:function(e,t){je(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){p=e,de()},setWidthCalculationMethod:function(e){N=e,he()},setTargetOrigin:function(e){oe("Set targetOrigin: "+e),C=e},size:function(e,t){ke("size","parentIFrame.size("+(e||"")+(t?","+t:"")+")",e,t)}},function(){if(!0!==k)return;function e(e){je(0,0,e.type,e.screenY+":"+e.screenX)}function t(t,n){oe("Add event listener: "+n),ee(window.document,t,e)}t("mouseenter","Mouse Enter"),t("mouseleave","Mouse Leave")}(),me(),b=function(){function e(){return{x:window.pageXOffset===t?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===t?document.documentElement.scrollTop:window.pageYOffset}}function n(t){var n=t.getBoundingClientRect(),o=e();return{x:parseInt(n.left,10)+parseInt(o.x,10),y:parseInt(n.top,10)+parseInt(o.y,10)}}function o(e){function o(e){var t=n(e);oe("Moving to in page link (#"+i+") at x: "+t.x+" y: "+t.y),je(t.y,t.x,"scrollToOffset")}var i=e.split("#")[1]||e,r=decodeURIComponent(i),a=document.getElementById(r)||document.getElementsByName(r)[0];t===a?(oe("In page link (#"+i+") not found in iFrame, so sending to parent"),je(0,0,"inPageLink","#"+i)):o(a)}function i(){var e=window.location.hash,t=window.location.href;""!==e&&"#"!==e&&o(t)}function r(){function e(e){function t(e){e.preventDefault(),o(this.getAttribute("href"))}"#"!==e.getAttribute("href")&&ee(e,"click",t)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),e)}function a(){ee(window,"hashchange",i)}function s(){setTimeout(i,u)}function c(){Array.prototype.forEach&&document.querySelectorAll?(oe("Setting up location.hash handlers"),r(),a(),s()):ie("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}b.enable?c():oe("In page linking not enabled");return{findTarget:o}}(),ke("init","Init message from host page"),P()}function ae(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],ie("Deprecated: '"+e+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}function se(e,n){t!==n&&""!==n&&"null"!==n&&(document.body.style[e]=n,oe("Body "+e+' set to "'+n+'"'))}function ce(e){var t={add:function(t){function n(){ke(e.eventName,e.eventType)}F[t]=n,ee(window,t,n,{passive:!0})},remove:function(e){var t,n,o,i=F[e];delete F[e],t=window,n=e,o=i,t.removeEventListener(n,o,!1)}};e.eventNames&&Array.prototype.map?(e.eventName=e.eventNames[0],e.eventNames.map(t[e.method])):t[e.method](e.eventName),oe(te(e.method)+" event listener: "+e.eventType)}function le(e){ce({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),ce({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),ce({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),ce({method:e,eventType:"Input",eventName:"input"}),ce({method:e,eventType:"Mouse Up",eventName:"mouseup"}),ce({method:e,eventType:"Mouse Down",eventName:"mousedown"}),ce({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),ce({method:e,eventType:"Print",eventNames:["afterprint","beforeprint"]}),ce({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),ce({method:e,eventType:"Touch Start",eventName:"touchstart"}),ce({method:e,eventType:"Touch End",eventName:"touchend"}),ce({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),ce({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),ce({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),ce({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===j&&ce({method:e,eventType:"IFrame Resized",eventName:"resize"})}function ue(e,t,n,o){return t!==e&&(e in n||(ie(e+" is not a valid option for "+o+"CalculationMethod."),e=t),oe(o+' calculation method set to "'+e+'"')),e}function de(){p=ue(p,m,X,"height")}function he(){N=ue(N,R,K,"width")}function me(){var e;!0===n?(le("add"),e=0>v,window.MutationObserver||window.WebKitMutationObserver?e?pe():a=function(){function e(e){function t(e){!1===e.complete&&(oe("Attach listeners to "+e.src),e.addEventListener("load",i,!1),e.addEventListener("error",r,!1),c.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function t(e){c.splice(c.indexOf(e),1)}function n(e){oe("Remove listeners from "+e.src),e.removeEventListener("load",i,!1),e.removeEventListener("error",r,!1),t(e)}function o(e,t,o){n(e.target),ke(t,o+": "+e.target.src)}function i(e){o(e,"imageLoad","Image loaded")}function r(e){o(e,"imageLoadFailed","Image load failed")}function a(t){ke("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type),t.forEach(e)}function s(){var e=document.querySelector("body"),t={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return u=new l(a),oe("Create body MutationObserver"),u.observe(e,t),u}var c=[],l=window.MutationObserver||window.WebKitMutationObserver,u=s();return{disconnect:function(){"disconnect"in u&&(oe("Disconnect body MutationObserver"),u.disconnect(),c.forEach(n))}}}():(oe("MutationObserver not supported in this browser!"),pe())):oe("Auto Resize disabled")}function pe(){0!==v&&(oe("setInterval: "+v+"ms"),y=setInterval((function(){ke("interval","setInterval: "+v)}),Math.abs(v)))}function fe(e,t){var n=0;return t=t||document.body,n=null===(n=document.defaultView.getComputedStyle(t,null))?0:n[e],parseInt(n,10)}function ge(e,t){for(var n=t.length,o=0,i=0,r=te(e),a=Date.now(),s=0;s<n;s++)(o=t[s].getBoundingClientRect()[e]+fe("margin"+r,t[s]))>i&&(i=o);return a=Date.now()-a,oe("Parsed "+n+" HTML elements"),oe("Element position calculated in "+a+"ms"),function(e){e>I/2&&oe("Event throttle increased to "+(I=2*e)+"ms")}(a),i}function be(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function ve(e,t){var n=document.querySelectorAll("["+t+"]");return 0===n.length&&(ie("No tagged elements ("+t+") found on page"),document.querySelectorAll("body *")),ge(e,n)}function ye(){return document.querySelectorAll("body *")}function we(e,n,o,i){var r,a;!function(){function e(e,t){return!(Math.abs(e-t)<=x)}return r=t===o?X[p]():o,a=t===i?K[N]():i,e(h,r)||c&&e(M,a)}()&&"init"!==e?!(e in{init:1,interval:1,size:1})&&(p in E||c&&N in E)?Ee(n):e in{interval:1}||oe("No change in size detected"):(Se(),je(h=r,M=a,e))}function ke(e,t,n,o){O&&e in l?oe("Trigger event cancelled: "+e):(e in{reset:1,resetPage:1,init:1}||oe("Trigger event: "+t),"init"===e?we(e,t,n,o):Q(e,t,n,o))}function Se(){O||(O=!0,oe("Trigger event lock on")),clearTimeout(A),A=setTimeout((function(){O=!1,oe("Trigger event lock off"),oe("--")}),u)}function _e(e){h=X[p](),M=K[N](),je(h,M,e)}function Ee(e){var t=p;p=m,oe("Reset trigger event: "+e),Se(),_e("reset"),p=t}function je(e,n,o,i,r){var a;t===r?r=C:oe("Message targetOrigin: "+r),oe("Sending message to host page ("+(a=_+":"+e+":"+n+":"+o+(t===i?"":":"+i))+")"),T.postMessage(S+a,r)}function Te(n){var o={init:function(){g=n.data,T=n.source,re(),d=!1,setTimeout((function(){f=!1}),u)},reset:function(){f?oe("Page reset ignored by init"):(oe("Page size reset by host page"),_e("resetPage"))},resize:function(){ke("resizeParent","Parent window requested size check")},moveToAnchor:function(){b.findTarget(r())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=r();oe("PageInfoFromParent called from parent: "+e),B(JSON.parse(e)),oe(" --")},message:function(){var e=r();oe("onMessage called from parent: "+e),z(JSON.parse(e)),oe(" --")}};function i(){return n.data.split("]")[1].split(":")[0]}function r(){return n.data.slice(n.data.indexOf(":")+1)}function a(){return n.data.split(":")[2]in{true:1,false:1}}function s(){var r=i();r in o?o[r]():!e.exports&&"iFrameResize"in window||window.jQuery!==t&&"iFrameResize"in window.jQuery.prototype||a()||ie("Unexpected message ("+n.data+")")}S===(""+n.data).slice(0,13)&&(!1===d?s():a()?o.init():oe('Ignored message of type "'+i()+'". Received before initialization.'))}function Ce(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}()}(A);var I={iframeResize:O,iframeResizer:O,contentWindow:A.exports};function M(e){const t=function(e){const t=document.createElement("a");return t.href=e,{protocol:t.protocol,href:t.href,path:t.pathname,search:t.search,hash:t.hash}}(e),n=t.href.substr(0,t.href.length-t.hash.length),o=window.location.href.replace(/#.*$/,"");return t.hash&&n===o}function R(e,t){const n=JSON.stringify(t);let o=0;if(0===n.length)return o;for(let i=0;i<n.length;i++){o=(o<<5)-o+n.charCodeAt(i),o&=o}return`${e}-${o}`}function N(e,t,n,o,i){const r=document.createElement("toujou-modal"),a=document.createElement("iframe"),s=R("iframe",t);if(r.id=e,a.name=s,document.body.appendChild(r),M(n)){const e=document.querySelector(n),t=e instanceof HTMLTemplateElement?document.importNode(e.content,!0).children:e.childNodes;e.title&&(r.title=e.title);for(let n=0;n<t.length;n++)r.appendChild(t[n])}else if(i&&"POST"===o){const e=function(e,t,n){const o=document.createElement("form"),i=document.createElement("input");return o.action=e,o.method="POST",o.target=n,t.forEach((([e,t])=>{i.name=e,i.value=t.toString(),o.appendChild(i.cloneNode())})),o.style.visibility="hidden",o}(n,i,s);r.appendChild(e),r.appendChild(a),e.submit(),e.remove()}else"GET"===o&&(a.src=n,r.appendChild(a));return r}const L=n`
  * {
    box-sizing: border-box;
  }

  :host {
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 100%;
    z-index: var(--toujou-modal-z-index, 15);
    background: var(--toujou-modal-backdrop-color, rgba(0,0,0,.6));
    visibility: hidden;
  }

  :host([allow-outside-scroll]) {
    position: absolute;
    height: 100%;
    min-height: 100vh;
  }

  :host([no-backdrop]) {
    background: transparent;
  }

  :host([visible]) {
    visibility: visible;
  }

  #scroller {
    overflow-y: auto;
    height: 100vh;
  }

  :host([allow-outside-scroll]) #scroller {
    height: 100%;
  }

  #content {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: var(--toujou-modal-container-justify-content, center);
    min-height: var(--toujou-modal-container-min-height, 100%);
    height: var(--toujou-modal-container-height, 100vh);
    width: var(--toujou-modal-container-width, 100vw);
  }

  #modal-content {
    margin: var(--toujou-modal-content-margin, 2rem auto);
    width: var(--toujou-modal-content-width, 100%);
    max-width: var(--toujou-modal-content-max-width, calc(100vw - 1rem));
    background: var(--toujou-modal-content-background, #fff);
    box-shadow: var(--toujou-modal-content-shadow, 0 16px 24px 2px rgba(0,0,0,0.14), 0 6px 30px 5px rgba(0,0,0,0.12), 0 8px 10px -5px rgba(0,0,0,0.4));
    border: var(--toujou-modal-content-border, none);
    border-radius: var(--toujou-modal-content-border-radius, 0px 0px 0px 0px);
    max-height: var(--toujou-modal-content-max-height, 100vh);
    overflow: var(--toujou-modal-content-overflow, auto);
    scroll-behavior: var(--toujou-modal-scroll-behavior, smooth);
  }

  @media only screen and (min-width: 51rem) {
    #modal-content {
      min-width: var(--toujou-modal-content-min-width, 42.5rem);
      max-width: var(--toujou-modal-content-max-width, 50rem);
    }
  }

  #modal-header {
    position: var(--toujou-modal-header-position, relative);
    padding: var(--toujou-modal-header-padding, .5rem);
    background: var(--toujou-modal-header-background, var(--neutral-color--050));
    border-bottom: var(--toujou-modal-header-border-bottom, 1px solid var(--neutral-color--200));
    user-select: none;
    display: var(--toujou-modal-header-display, flex);
    justify-content: var(--toujou-modal-header-justify, space-between);
    width: var(--toujou-modal-header-width, 100%);
    top: var(--toujou-modal-header-top, unset);
    box-shadow: var(--toujou-modal-header-box-shadow, none);
  }

  :host([no-header]) #modal-header {
    padding: 0;
    border-bottom: none;
  }

  #modal-header h3 {
    color: var(--toujou-modal-title-color, var(--secondary-color));
    display: var(--toujou-modal-title-display, flex);
    align-items: center;
    justify-content: var(--toujou-modal-title-align, flex-start);
    font-family: var(--toujou-modal-title-font-family, var(--headline__family));
    font-weight: var(--toujou-modal-title-font-weight, 500);
    font-size: var(--toujou-modal-title-font-size, 1.21875rem);
    line-height: 1.1;
    margin: 0;
    padding: var(--toujou-modal-title-padding, 0 .5rem);
    text-align: left;
    width: 100%;
  }

  #modal-header-close {
    display: var(--toujou-modal-close-display, block);
    position: var(--toujou-modal-close-position, relative);
    font-weight: bold;
    line-height: 1;
    font-family: var(--toujou-modal-close-font-family, var(--headline__family));
    font-size: var(--toujou-modal-close-font-size, 2em);
    padding: var(--toujou-modal-close-padding, .25rem .675rem);
    background: var(--toujou-modal-close-background, var(--primary-color));
    background-size: var(--toujou-modal-close-background-size, contain);
    background-position: var(--toujou-modal-close-background-position, center);
    background-repeat: var(--toujou-modal-close-background-repeat, no-repeat);
    border: var(--toujou-modal-close-border, 1px solid var(--primary-color));
    border-radius: var(--toujou-modal-close-border-radius, 2px);
    color: var(--toujou-modal-close-color, #fff);
    cursor: pointer;
    margin: var(--toujou-modal-close-margin, 0 0 0 1.5rem);
    outline: none;
    text-align: center;
    transition: all .1s ease-in-out;
    user-select: none;
    vertical-align: middle;
    width: auto;
    top: var(--toujou-modal-close-top, 0);
    bottom: var(--toujou-modal-close-bottom, 0);
    left: var(--toujou-modal-close-left, 0);
    right: var(--toujou-modal-close-right, 0);
  }

  #modal-header-close:hover, #modal-header-close:focus {
    background: var(--toujou-modal-close-hover-background, var(--primary-color--dark));
    background-size: var(--toujou-modal-close-hover-background-size, contain);
    background-position: var(--toujou-modal-close-hover-background-position, center);
    background-repeat: var(--toujou-modal-close-hover-background-repeat, no-repeat);
    border: var(--toujou-modal-close-hover-border, 1px solid var(--primary-color--dark));
    color: var(--toujou-modal-close-hover-color, #fff);
  }

  #dog-ear-close {
    position: absolute;
    top: 0;
    right: 0;
    z-index: 2;
    width: 0;
    height: 0;
    border: none;
    border-top: 3rem solid var(--primary-color);
    border-left: 3rem solid transparent;
    padding: 0;
    cursor: pointer;
    outline: none;
    user-select: none;
  }

  #dog-ear-close:before,
  #dog-ear-close:after {
    content: '';
    background: white;
    position: absolute;
    display: block;
    height: 2px;
    width: .75rem;
    right: .375rem;
    top: -2.25rem;
  }

  #dog-ear-close:before {
    transform: rotate(45deg);
  }

  #dog-ear-close:after {
    transform: rotate(-45deg);
  }

  #progress-bar {
    display: none;
    position: absolute;
    bottom: -2px;
    left: 0;
    height: var(--toujou-modal-progressbar-height, 4px);
    width: 100%;
    opacity: 0;
    transition: opacity .3s ease-in-out;
  }

  :host([loading]) #progress-bar {
    display: block;
    opacity: 1;
  }

  #progress-bar:before {
    content: '';
    display: block;
    height: 4px;
    width: 50%;
    background: var(--toujou-modal-progressbar-color, var(--primary-color));
    animation: var(--toujou-modal-progressbar-animation, progress 6s linear infinite);
  }

  @keyframes progress {
    0%   { width: 0; }
    18% { width: 3%; }
    20% { width: 20%; }
    38% { width: 23%; }
    40% { width: 40%; }
    58% { width: 43%; }
    60% { width: 60%; }
    78% { width: 63%; }
    80% { width: 80%; }
    98% { width: 83%; }
    100% { width: 100%; }
  }

  @media only screen and (min-width: 42.5rem) {
    #modal-header h3 {
      font-size: var(--toujou-modal-title-font-size, 1.625rem);
    }
  }

  #modal-content ::slotted(iframe) {
    border: none;
    width: 100%;
  }

`,z={reserveScrollBarGap:!0},P=[];class B extends o{static get is(){return"toujou-modal"}render(){return i`
            <div id="scroller" @click="${this.onClick}" part="scroller">
                <div id="content" part="content">
                    <div id="modal-content" part="modal-content">
                        <div id="modal-header" part="modal-header">
                            ${this.noHeader?i`
                                    <button id="dog-ear-close" dialog-dismiss part="dog-ear-close"></button>`:i`
                                    <h3 part="headline">${this.title}</h3>
                                    <button id="modal-header-close" dialog-dismiss part="modal-header-close">×</button>
                                `}
                            <div id="progress-bar" part="progress-bar"></div>
                        </div>
                        <slot id="slot" @slotchange="${this.onSlotchange}"></slot>
                    </div>
                </div>
            </div>
        `}static get properties(){return{opened:{type:Boolean,reflect:!0},title:{type:String},noHeader:{type:Boolean,attribute:"no-header",reflect:!0},allowOutsideScroll:{type:Boolean,attribute:"allow-outside-scroll",reflect:!0},noBackdrop:{type:Boolean,attribute:"no-backdrop",reflect:!0},loading:{type:Boolean,reflect:!0}}}open(){this.opened=!0}close(){this.opened=!1}constructor(e){super(e),this.opened=!1,this.loading=!1,this.intersectionObserver=new IntersectionObserver((e=>{e[0]&&this.onPosition(e[0])})),this.iframeResizerMap=new Map,this.setAttribute("exportparts","scroller, content, modal-content, modal-header, headline, dog-ear-close, modal-header-close, progress-bar")}disconnectedCallback(){g&&(b.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),v&&(document.removeEventListener("touchmove",E,m?{passive:!1}:void 0),v=!1),y=-1),g?T():j(),b=[]}toggle(){this.opened=!this.opened}firstUpdated(){this.$={scroller:this.shadowRoot.querySelector("#scroller"),content:this.shadowRoot.querySelector("#content"),modalContent:this.shadowRoot.querySelector("#modal-content"),slot:this.shadowRoot.querySelector("#slot")}}updated(e){e.has("opened")&&(this.opened?this.onOpen():this.onClose(),this.hidden=!this.opened)}onOpen(){var e;this.intersectionObserver.observe(this),this.allowOutsideScroll?document.body.styleposition="relative":C(this.$.scroller,z),e=this,P.forEach((e=>e.close())),P.push(e),setTimeout((()=>{this.setAttribute("visible",""),this.dispatchModalEvent("toujou-modal-opened")}))}onClose(){var e;this.removeAttribute("visible"),function(e){if(e===P[P.length-1]){P.pop();const e=P.pop();e&&e.open()}}(this),this.allowOutsideScroll?document.body.style.position="":(e=this.$.scroller)?(b=b.filter((function(t){return t.targetElement!==e})),g&&(e.ontouchstart=null,e.ontouchmove=null,v&&0===b.length&&(document.removeEventListener("touchmove",E,m?{passive:!1}:void 0),v=!1)),g?T():j()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."),this.intersectionObserver.unobserve(this),this.dispatchModalEvent("toujou-modal-closed")}onLoad(e){this.loading=e}onClick(e){if(!e.composed)return;const t=e.composedPath();t.includes(this.$.modalContent)&&!t.some((e=>e instanceof HTMLElement&&e.hasAttribute("dialog-dismiss")))||this.close()}onPosition(e){const t=Math.max(e.intersectionRect.y,Math.abs(e.boundingClientRect.y));this.$.content.style["min-height"]=`${e.intersectionRect.height}px`,this.$.content.style.top=t?`${t}px`:""}onSlotchange(){const e=this.$.slot.assignedNodes().filter((e=>e instanceof HTMLIFrameElement));this.iframeResizerMap.forEach(((t,n)=>{e.includes(n)||this.iframeResizerMap.delete(n)})),e.forEach((e=>{this.loading=!0,e.addEventListener("load",(()=>{this.iframeResizerMap.has(e)||this.listenToIframeReadyState(e)}))}))}listenToIframeReadyState(e){this.loading=!0,this.iframeResizerMap.set(e,this.createIframeResizer(e)),e.contentWindow.addEventListener("beforeunload",(()=>{this.loading=!0}));try{this.title=e.contentWindow.document.title||this.title}catch(t){this.title=""}this.loading=!1,this.dispatchModalEvent("toujou-modal-loaded")}createIframeResizer(e){let t={};try{t=JSON.parse(e.getAttribute("toujou-iframe"))||{}}catch(n){(console.error||console.log).call(console,n.stack||n)}return t.initCallback=()=>{this.loading=!1},t.closedCallback=()=>{this.close()},I.iframeResizer(t,e)}dispatchModalEvent(e){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0}))}}var D,F,H,U,q;((t,n,o)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o})(B,"symbol"!=typeof(D="styles")?D+"":D,[L]),customElements.define(B.is,B),document.addEventListener("click",(e=>{if(e.metaKey||e.ctrlKey)return;const t=function(e){const t=e.composedPath();for(let n=0;n<t.indexOf(document.body);n++){const e=t[n];if(e.hasAttribute&&e.hasAttribute("target")&&e!==document.body)return e}}(e);if((t instanceof HTMLElement||t instanceof SVGElement)&&!(t instanceof HTMLFormElement)&&"toujou-modal"===t.getAttribute("target")){const n=t.getAttribute("href"),o=-1!==n.indexOf("?")?n.split("?")[0]+"?toujou-ajax-modal=1&"+n.split("?")[1]:-1!==n.indexOf("#")?n.split("#")[0]+"?toujou-ajax-modal=1#"+n.split("#")[1]:n+"?toujou-ajax-modal=1",[i,r]=function(e,t){if(e.hasAttribute("data-modal-post")){const n=e.getAttribute("data-modal-post");t.method="POST",t.body=n;const o=[];return new URL(`http://localhost/?${n}`).searchParams.forEach(((e,t)=>{o.push([t,e])})),[o,t]}return[null,t]}(t,{src:o});!function(e,t,n,o){const i=R("toujou-modal",e),r=document.getElementById(i)||N(i,e,t,n,o);setTimeout((()=>{r.open()}))}(r,o,i?"POST":"GET",i),e.preventDefault(),e.stopPropagation()}})),(q=F||(F={})).PRIMARY="primary",q.SECONDARY="secondary",q.FONT="font",function(e){e.DEFAULT="default",e.BORDER="border",e.GHOST="ghost"}(H||(H={})),function(e){e.TINY="tiny",e.SMALL="small",e.NORMAL="normal",e.LARGE="large"}(U||(U={}));let W=class extends HTMLButtonElement{constructor(){super(),this.defaultButtonVariant=F.PRIMARY,this.defaultButtonType=H.DEFAULT,this.defaultButtonSize=U.NORMAL}connectedCallback(){this._checkRequiredAttributes()}_checkRequiredAttributes(){const e=this.getAttribute("button-variant");e?Object.values(F).includes(e)||(console.warn(`TOUJOU: Invalid button-variant value, falling back to default: "${this.defaultButtonVariant}"`),this.setAttribute("button-variant",this.defaultButtonVariant)):this.setAttribute("button-variant",this.defaultButtonVariant);const t=this.getAttribute("button-size");t?Object.values(U).includes(t)||(console.warn(`TOUJOU: Invalid button-size value, falling back to default: "${this.defaultButtonSize}"`),this.setAttribute("button-size",this.defaultButtonSize)):this.setAttribute("button-size",this.defaultButtonSize);const n=this.getAttribute("button-type");n?Object.values(H).includes(n)||(console.warn(`TOUJOU: Invalid button-type value, falling back to default: "${this.defaultButtonType}"`),this.setAttribute("button-type",this.defaultButtonType)):this.setAttribute("button-type",this.defaultButtonType)}};var $,V,G;customElements.define("toujou-button",W,{extends:"button"});let J=class extends o{get result(){const e=Math.round(this.duration);return 0===e?`${this.lessThanText} 1 ${this.minutesSingularText}`:1===e?`1 ${this.minutesSingularText}`:`${e} ${this.minutesPluralText}`}render(){return i`
      <slot name="label" class="label"></slot>
      ${this.result}
    `}constructor(){super(),$.add(this),this.wordCount=0,this.duration=0,this.targetSelector="body",this.minutesSingularText="minute",this.minutesPluralText="minutes",this.lessThanText="under",this.readingSpeed=250,V.set(this,(()=>{this.targetEl=document.querySelector(`${this.targetSelector}`),this.targetEl&&(this.wordCount+=s(this,$,"m",G).call(this,this.targetEl))})),"complete"===document.readyState||"interactive"===document.readyState?setTimeout(s(this,V,"f")):document.addEventListener("DOMContentLoaded",s(this,V,"f"))}updated(e){e.has("wordCount")&&(this.duration=Math.ceil(this.wordCount/this.readingSpeed))}};V=new WeakMap,$=new WeakSet,G=function(e){const t=e.textContent,n=null==t?void 0:t.replace(/[\n\r]+|[\s]{2,}/g," "),o=null==n?void 0:n.trim(),i=null==o?void 0:o.split(" ");return(null==i?void 0:i.length)||0},a([l({type:Number})],J.prototype,"wordCount",void 0),a([l({type:Number})],J.prototype,"duration",void 0),a([l({type:String,attribute:"target-selector"})],J.prototype,"targetSelector",void 0),a([l({type:String,attribute:"minutes-singular-text"})],J.prototype,"minutesSingularText",void 0),a([l({type:String,attribute:"minutes-plural-text"})],J.prototype,"minutesPluralText",void 0),a([l({type:String,attribute:"less-than-text"})],J.prototype,"lessThanText",void 0),a([l({type:Number,attribute:"reading-speed"})],J.prototype,"readingSpeed",void 0),J=a([c("toujou-estimated-reading-time")],J),console.warn("The main 'lit-element' module entrypoint is deprecated. Please update your imports to use the 'lit' package: 'lit' and 'lit/decorators.ts' or import from 'lit-element/lit-element.ts'. See https://lit.dev/msg/deprecated-import-path for more information.");var Y,X,K,Q=n(Y||(X=[".exit-warning__message {\n    background-color: var(--toujou-exist-warning-message-bg-color, var(--bg-color));\n    overflow: var(--toujou-exist-warning-message-overflow, hidden);\n    padding: var(--toujou-exist-warning-message-padding, var(--spacing-normal) var(--spacing-normal) var(--spacing-l));\n}\n"],K||(K=X.slice(0)),Y=Object.freeze(Object.defineProperties(X,{raw:{value:Object.freeze(K)}}))));let Z=class extends o{static get properties(){return{title:{type:String},targetUrl:{type:String},redirectDelay:{type:Number},secondsRemaining:{type:Number},opened:{type:Boolean},_messageTemplate:{type:Object}}}constructor(){super(),this.targetUrl="http://www.dfau.de",this.redirectDelay=50,this.onIntervalTick=this.onIntervalTick.bind(this),this.onModalOpenedChanged=this.onModalOpenedChanged.bind(this),this._secondsRemainingInterval=null,this._messageTemplate=null,this._modal=null,this._modalOpenedObserver=new MutationObserver(this.onModalOpenedChanged)}render(){return i`
      <toujou-modal title="${this.title}" is-exit-warning>
        <div class="exit-warning__message">
          <slot></slot>
        </div>
      </toujou-modal>
    `}connectedCallback(){const e=this.querySelector("template");e&&(this._messageTemplate=new Function("html","targetUrl","secondsRemaining","return html`"+e.innerHTML+"`")),super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._modalOpenedObserver.disconnect()}updated(e){this._messageTemplate&&r(this._messageTemplate(i,this.targetUrl,this.secondsRemaining),this)}firstUpdated(e){this._modal=this.shadowRoot.querySelector("toujou-modal"),this._modal&&this._modalOpenedObserver.observe(this._modal,{attributeFilter:["opened"]})}onModalOpenedChanged(){this._modal.opened?(this.secondsRemaining=this.redirectDelay,this._secondsRemainingInterval=window.setInterval(this.onIntervalTick,1e3)):(this._secondsRemainingInterval&&window.clearInterval(this._secondsRemainingInterval),this._secondsRemainingInterval=null)}onIntervalTick(){this.secondsRemaining--,this.secondsRemaining<=0&&(window.location.href=this.targetUrl,this.close())}open(){this._modal&&this._modal.open()}close(){this._modal&&this._modal.close()}};function ee(e){console.log("11111");const t=document.querySelector("exit-warning");return!!t&&(window.location.href.match(/toujou-ajax-modal=/)&&window.self!==window.parent?(window.parent.postMessage({action:"toujou-exit-warning",targetUrl:e},window.location.origin),!0):(new URL(e).hostname===window.location.hostname?window.location.href=e:(t.targetUrl=e,t.open()),!0))}Z.styles=[Q],Z=a([c("exit-warning")],Z),document.addEventListener("click",(function(e){if(e.metaKey||e.ctrlKey)return;const t=function(e){const t=e.composedPath();for(let n=0;n<t.indexOf(document.body);n++){const e=t[n];if(e.hasAttribute&&e.hasAttribute("target")&&e!==document.body)return e}}(e);t instanceof HTMLElement&&!(t instanceof HTMLFormElement)&&"toujou-exit-warning"===t.getAttribute("target")&&ee(t.getAttribute("href"))&&(e.preventDefault(),e.stopPropagation())})),window.addEventListener("message",(function(e){e.origin===window.location.origin&&void 0!==e.data.action&&"toujou-exit-warning"===e.data.action&&e.data.targetUrl&&ee(e.data.targetUrl)}));let te=class extends o{static get is(){return"toujou-lazy-render"}get templates(){return this.shadowRoot.querySelector("#slot").assignedNodes({flatten:!0}).filter((e=>"TEMPLATE"===e.tagName))}render(){return i`
      <slot id="slot"></slot>`}connectedCallback(){super.connectedCallback(),this.intersectionObserver=new IntersectionObserver((e=>{e.some((e=>e.isIntersecting))&&(this.renderTemplates(),this.intersectionObserver.disconnect())})),this.intersectionObserver.observe(this)}disconnectedCallback(){this.intersectionObserver&&this.intersectionObserver.disconnect(),super.disconnectedCallback()}renderTemplates(){this.templates.forEach((e=>{const t=document.importNode(e.content,!0);e.parentNode.insertBefore(t,e)}))}};customElements.define(te.is,te);var ne,oe,ie,re=n(ne||(oe=[":host {\n    background-color: var(--toujou-snackbar-bg-color, #2c2c2c);\n    border: var(--toujou-snackbar-border, 1px solid var(--bg-color));\n    display: var(--toujou-snackbar-display, flex);\n    width: var(--toujou-snackbar-width, calc(100% - 2rem));\n    max-width: var(--toujou-snackbar-max-width, 640px);\n    position: var(--toujou-snackbar-position, fixed);\n    bottom: var(--toujou-snackbar-bottom, 1rem);\n    left: var(--toujou-snackbar-left, 1rem);\n    padding: var(--toujou-snackbar-padding, 1rem);\n    border-radius: var(--toujou-snackbar-border-radius, .25rem);\n    z-index: var(--toujou-snackbar-z-index, 100);\n    -webkit-transform: var(--toujou-snackbar-transform, translateY(calc(100% + 1rem)));\n            transform: var(--toujou-snackbar-transform, translateY(calc(100% + 1rem)));\n    opacity: var(--toujou-snackbar-opacity, 0);\n    -webkit-transition: var(--toujou-snackbar-transition, all .25s ease-out);\n    transition: var(--toujou-snackbar-transition, all .25s ease-out);\n}\n\n:host([visible]) {\n    -webkit-transform: var(--toujou-snackbar-visible-transform, translateY(0));\n            transform: var(--toujou-snackbar-visible-transform, translateY(0));\n    opacity: var(--toujou-snackbar-visible-opacity, 1);\n}\n\n:host(:focus-visible) {\n    outline: var(--toujou-snackbar-focus-outline);\n    outline-offset: var(--toujou-snackbar-focus-outline-offset);\n}\n\n.snackbar__message {\n    -webkit-box-flex: var(--toujou-snackbar-message-grow, 1);\n        -ms-flex-positive: var(--toujou-snackbar-message-grow, 1);\n            flex-grow: var(--toujou-snackbar-message-grow, 1);\n    color: var(--toujou-snackbar-message-color, white);\n    margin: var(--toujou-snackbar-message-margin, 0);\n    padding: var(--toujou-snackbar-message-padding, 0 1rem 0 0);\n}\n\n.snackbar__button {\n    border: var(--toujou-snackbar-button-border, none);\n    background: var(--toujou-snackbar-button-bg, none);\n    font-size: var(--toujou-snackbar-button-font-size, .875rem);\n    font-family: var(--toujou-snackbar-button-font-family, var(--paragraph__family));\n    text-transform: var(--toujou-snackbar-button--text-transform, uppercase);\n    color: var(--toujou-snackbar-button-color, var(--primary-color));\n    margin: var(--toujou-snackbar-button-margin, 0);\n    outline: var(--toujou-snackbar-button-outline, none);\n}\n\n.snackbar__button:hover {\n    cursor: var(--toujou-snackbar-button-hover-cursor, pointer);\n    opacity: var(--toujou-snackbar-button-hover-opacity, .75);\n}\n\n:host([snackbartype='auto']) .snackbar__button {\n    display: none;\n}\n\n/* VARIANT SUCCESS */\n\n:host([success]) {\n    border: var(--toujou-snackbar-success-border, 1px solid var(--success-color));\n}\n\n:host([success]) .snackbar__message {\n    color: var(--toujou-snackbar-success-message-color, var(--success-color));\n}\n\n:host([success]) .snackbar__button {\n    color: var(--toujou-snackbar-success-button-color, white);\n}\n\n/* VARIANT WARNING */\n\n:host([warning]) {\n    border: var(--toujou-snackbar-warning-border, 1px solid var(--warning-color));\n}\n\n:host([warning]) .snackbar__message {\n    color: var(--toujou-snackbar-warning-message-color, var(--warning-color));\n}\n\n:host([warning]) .snackbar__button {\n    color: var(--toujou-snackbar-warning-button-color, white);\n}\n\n/* VARIANT ERROR */\n\n:host([error]) {\n    border: var(--toujou-snackbar-error-border, 1px solid var(--error-color));\n}\n\n:host([error]) .snackbar__message {\n    color: var(--toujou-snackbar-error-message-color, var(--error-color));\n}\n\n:host([error]) .snackbar__button {\n    color: var(--toujou-snackbar-error-button-color, white);\n}\n\n/* VARIANT INFO */\n\n:host([info]) {\n    border: var(--toujou-snackbar-info-border, 1px solid #81d4fa);\n}\n\n:host([info]) .snackbar__message {\n    color: var(--toujou-snackbar-info-message-color, #81d4fa);\n}\n\n:host([info]) .snackbar__button {\n    color: var(--toujou-snackbar-info-button-color, white);\n}\n"],ie||(ie=oe.slice(0)),ne=Object.freeze(Object.defineProperties(oe,{raw:{value:Object.freeze(ie)}}))));let ae=class extends o{static get is(){return"toujou-snackbar"}render(){return i`
      <p class="snackbar__message">${this.message}</p>
      <button
        class="snackbar__button"
        @click="${this._handleButtonClick}"
        aria-label="${this.buttonAriaLabel}"
      >${this.buttonText}</button>
    `}static get styles(){return[re]}static get properties(){return{showing:{type:Boolean},cue:{type:Array},message:{type:String},buttonText:{type:String},snackbarType:{type:String},buttonAriaLabel:{type:String,attribute:"button-aria-label"}}}set showing(e){e?(this.setAttribute("visible",""),this.setAttribute("tabindex","0"),this.focus()):(this.removeAttribute("visible"),this.setAttribute("tabindex","-1"),this.blur())}set snackbarType(e){this.setAttribute("snackbarType",e)}set variant(e){this.setAttribute(e,"")}constructor(){super(),this.keyCodes={escape:27,enter:13},this.cue=[],this._animationStart=null,this._possibleVariants=["success","warning","error","info"],this.buttonAriaLabel="Close the snackbar",window.addEventListener("toujou-add-snackbar",(()=>{this._removeHiddenState()}),{once:!0}),window.addEventListener("toujou-add-snackbar",(e=>{this._handleAddSnackbar(e)}))}connectedCallback(){super.connectedCallback(),this.showing=!1,this._timer=this._timer.bind(this),this.addEventListener("keydown",this._handleKeyDown.bind(this))}updated(e){e.has("cue")&&this.cue.length>0?this._showSnackbar():e.has("cue")&&this.cue.length>1&&"auto"===this.cue[0].type?this._checkAutoReplacement():e.has("cue")&&0===this.cue.length&&this._resetVisibleValues()}_handleAddSnackbar(e){this.cue=[...this.cue,e.detail]}_checkAutoReplacement(){this.cue.length>1&&"auto"===this.cue[0].type&&(this._wasReplaced=!0)}_handleButtonClick(){this._hideSnackbar()}_hideSnackbar(){this.showing=!1,this.addEventListener("transitionend",this._afterHide)}_afterHide(){this._removeSnackbarFromCue(),this._removeSnackbarVariantAttribute(),this.removeEventListener("transitionend",this._afterHide)}_removeSnackbarFromCue(){this.cue=this.cue.slice(1)}_removeSnackbarVariantAttribute(){this._possibleVariants.forEach((e=>{this.hasAttribute(e)&&this.removeAttribute(e)}))}_resetVisibleValues(){this.message=null,this.buttonText=null}_showSnackbar(){setTimeout((()=>{this._setSnackbarValues(this.cue[0]),"auto"===this.cue[0].type&&(this._animationStart=Date.now(),this._timer()),this.showing=!0,this.snackbarType=this.cue[0].type}))}_removeHiddenState(){this.removeAttribute("hidden")}_timer(){const e=Date.now();if(this._wasReplaced)return this._removeSnackbarFromCue(),this._wasReplaced=!1,void cancelAnimationFrame(this._animationRequest);e-this._animationStart>=this._duration?(this._hideSnackbar(),cancelAnimationFrame(this._animationRequest)):this._animationRequest=requestAnimationFrame(this._timer)}_setSnackbarValues(e){e.message&&(this.message=e.message),e.variant&&this._possibleVariants.includes(e.variant)&&(this.variant=e.variant),this.buttonText=e.buttonText||"OK",this._duration=e.duration||2500}_handleKeyDown(e){"auto"!==this.getAttribute("snackbartype")&&("Escape"!==e.key&&e.keyCode!==this.keyCodes.escape&&"Enter"!==e.key&&e.keyCode!==this.keyCodes.enter||(this._hideSnackbar(),this._afterHide()))}};customElements.define(ae.is,ae);var se,ce,le,ue=n(se||(ce=["* {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n\n:host {\n    --toujou-spinner-size: 5rem;\n    --toujou-spinner-thickness: 4;\n    --toujou-spinner-start-color: var(--primary-color--light);\n    --toujou-spinner-end-color: var(--primary-color--dark);\n    --toujou-spinner-animation-duration: 2s;\n    --toujou-spinner-dash-animation-duration: 1.4s;\n    --toujou-spinner-display: inline-flex;\n\n    width: var(--toujou-spinner-size);\n    height: var(--toujou-spinner-size);\n    position: relative;\n    display: var(--toujou-spinner-display);\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n}\n\n:host([centered-on-page]) {\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    z-index: 100;\n}\n\n.toujou-spinner__spinner::before {\n    content: '';\n    display: block;\n    padding-top: 100%;\n}\n\n.toujou-spinner__svg {\n    -webkit-animation: rotationAnimation var(--toujou-spinner-animation-duration) linear infinite;\n            animation: rotationAnimation var(--toujou-spinner-animation-duration) linear infinite;\n    height: 100%;\n    -webkit-transform-origin: center center;\n            transform-origin: center center;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n}\n\n.toujou-spinner__circle {\n    stroke-dasharray: 1, 200;\n    stroke-dashoffset: 0;\n    -webkit-animation: dashAnimation var(--toujou-spinner-dash-animation-duration) ease-in-out infinite,\n               colorAnimation var(--toujou-spinner-dash-animation-duration) ease-in-out infinite;\n            animation: dashAnimation var(--toujou-spinner-dash-animation-duration) ease-in-out infinite,\n               colorAnimation var(--toujou-spinner-dash-animation-duration) ease-in-out infinite;\n    stroke-linecap: round;\n    stroke-width: var(--toujou-spinner-thickness);\n    fill: none;\n}\n\n@-webkit-keyframes rotationAnimation {\n    100% {\n        -webkit-transform: rotate(360deg);\n                transform: rotate(360deg);\n    }\n}\n\n@keyframes rotationAnimation {\n    100% {\n        -webkit-transform: rotate(360deg);\n                transform: rotate(360deg);\n    }\n}\n\n@-webkit-keyframes dashAnimation {\n    0% {\n        stroke-dasharray: 1, 200;\n        stroke-dashoffset: 0;\n    }\n    50% {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: -35px;\n    }\n    100% {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: -124px;\n    }\n}\n\n@keyframes dashAnimation {\n    0% {\n        stroke-dasharray: 1, 200;\n        stroke-dashoffset: 0;\n    }\n    50% {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: -35px;\n    }\n    100% {\n        stroke-dasharray: 89, 200;\n        stroke-dashoffset: -124px;\n    }\n}\n\n@-webkit-keyframes colorAnimation {\n    0%, 20% {\n        stroke: var(--toujou-spinner-start-color);\n    }\n    80%, 100% {\n        stroke: var(--toujou-spinner-end-color);\n    }\n}\n\n@keyframes colorAnimation {\n    0%, 20% {\n        stroke: var(--toujou-spinner-start-color);\n    }\n    80%, 100% {\n        stroke: var(--toujou-spinner-end-color);\n    }\n}\n"],le||(le=ce.slice(0)),se=Object.freeze(Object.defineProperties(ce,{raw:{value:Object.freeze(le)}}))));class de extends o{static get is(){return"toujou-spinner"}static get styles(){return ue}render(){return i`
      <svg class="toujou-spinner__svg" viewBox="25 25 50 50">
        <circle class="toujou-spinner__circle" cx="50" cy="50" r="20" stroke-miterlimit="10"/>
      </svg>
    `}}customElements.define(de.is,de);var he,me,pe,fe=n(he||(me=[" .open-button {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n  }\n\n  :host([open]) .open-button {\n    display: none;\n  }\n\n  .close-button {\n    display: none;\n  }\n\n  :host([open]) .close-button {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n  }\n"],pe||(pe=me.slice(0)),he=Object.freeze(Object.defineProperties(me,{raw:{value:Object.freeze(pe)}}))));let ge=class extends o{constructor(){super(...arguments),this.isOpen=!1,this.isOpenParentAttribute="media-info-child-is-open",this._handleClick=e=>{e.preventDefault(),e.stopPropagation()},this.handleToggleClick=()=>{this.isOpen=!this.isOpen}}render(){return i`
            <slot name="open-button" class="open-button"  @click="${this.handleToggleClick}"></slot>
            <slot name="close-button" class="close-button" @click="${this.handleToggleClick}"></slot>
            <slot name="figcaption"></slot>
            <slot name="copyright"></slot>
        `}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this._handleClick)}updated(e){var t,n;e.has("isOpen")&&(this.isOpen?null===(t=this.parentElement)||void 0===t||t.setAttribute(this.isOpenParentAttribute,""):null===(n=this.parentElement)||void 0===n||n.removeAttribute(this.isOpenParentAttribute))}};function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n,o,i,r,a){try{var s=e[r](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,i)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){ye(r,o,i,a,s,"next",e)}function s(e){ye(r,o,i,a,s,"throw",e)}a(void 0)}))}}function ke(e,t,n){return(t="symbol"==typeof(o=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?o:String(o))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var o}function Se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}ge.styles=[fe],a([l({type:Boolean,reflect:!0,attribute:"open"})],ge.prototype,"isOpen",void 0),ge=a([c("toujou-media-info")],ge);var _e,Ee,je=n(_e||(_e=Se([":host {\n    display: var(--toujou-consent-display, block);\n}"])));class Te extends o{static get is(){return"toujou-consent"}render(){return i`
      <slot id="content"></slot>
    `}static get styles(){return je}static get properties(){return{consentState:{type:Boolean},listenTo:{type:String},listenOn:{type:String}}}set consentState(e){"checkbox"===this.consentInputType&&(this.querySelector(".consent__checkbox").checked=e)}set listenTo(e){e.split(/\s+/).forEach((e=>{this.addEventListener(e,this._handleEvent)}))}constructor(){super(),this._handleEvent=this._handleEvent.bind(this),this.listenOn="*",this._consentType=this.getAttribute("consenttype"),this._getConsentInputType(),this.consentState=null}connectedCallback(){super.connectedCallback()}_handleEvent(e){"click"===e.type?this._dispatchClickEvent():"change"===e.type&&this._dispatchChangeEvent()}firstUpdated(){this._dispatchReadyEvent()}_dispatchChangeEvent(){const e=new CustomEvent("toujou-consent-checkbox-changed",{bubbles:!0,composed:!0,detail:{consentElement:this}});this.dispatchEvent(e)}_dispatchClickEvent(){const e=new CustomEvent("toujou-consent-button-clicked",{bubbles:!0,composed:!0});this.dispatchEvent(e)}_dispatchReadyEvent(){const e=new CustomEvent("toujou-consent-connected",{bubbles:!0,composed:!0,detail:{consentType:this._consentType}});this.dispatchEvent(e)}_getConsentInputType(){const e=this.querySelectorAll(".consent__checkbox"),t=this.querySelectorAll(".consent__button");e.length>0?this.consentInputType="checkbox":t.length>0&&(this.consentInputType="button")}}customElements.define(Te.is,Te);var Ce=n(Ee||(Ee=Se([":host {\n    display: var(--toujou-consent-widget-display, block);\n}\n\n"])));const xe={setItem(e,t){document.cookie=`${e}=${t};path=/;`},getItem(e){const t=`${e}=`,n=document.cookie.split(";");for(let o=0,i=n.length;o<i;o++){let e=n[o];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null}},Oe=(e,t,n)=>{try{const o=JSON.stringify(e);return void t.setItem(n,o)}catch(o){console.error(`There was an error while saving the consents data to storage: Error: ${o}`)}},Ae=(e,t)=>{try{const n=e.getItem(t);return null===n?{}:JSON.parse(n)}catch(n){return console.error(`There was a problem loading the consents data from storage. Error: ${n}`),{}}},Ie=e=>{const t={},n={};for(const o in e)"consentBoxDismissed"===o?n[o]=e[o]:0===e[o].consentLifetime?t[o]=e[o]:e[o].consentLifetime>0&&(n[o]=e[o]);Oe({consents:t},xe,"consentsState"),Oe({consents:n},localStorage,"consentsState")},Me="CHECK_CONSENT_EXPIRY",Re="SAVE_ALL_CONSENTS",Ne="SAVE_SINGLE_CONSENT",Le="DISMISS_CONSENT_BOX",ze="UNDISMISS_CONSENT_BOX",Pe={consents:{consentBoxDismissed:!1}};let Be=!1;function De(e=Pe,t){const n=function(e,t){var n,o,i,r;switch(t.type){case Me:{const t=Date.now(),a={...e.consents};for(const e in a)"consentBoxDismissed"!==e&&(null!==(o=null===(n=a[e])||void 0===n?void 0:n.consentLifetime)&&void 0!==o?o:0)>0&&(null!==(r=null===(i=a[e])||void 0===i?void 0:i.consentExpirationDate)&&void 0!==r?r:0)<=t&&(delete a[e],a.consentBoxDismissed=!1);return{...e,consents:a}}case"CLEAR_CONSENT_TYPE_DATA":{const n={...e.consents};return delete n[t.payload],{...e,consents:n}}case Re:{const n={...e.consents,...t.payload};return{...e,consents:n}}case Ne:{const n={...e.consents};return n[t.payload.consentType]={...t.payload.consentData},{...e,consents:n}}case Le:{const t={...e.consents};return t.consentBoxDismissed=!0,{...e,consents:t}}case ze:{const t={...e.consents};return t.consentBoxDismissed=!1,{...e,consents:t}}}return e}(e,t);return(e=>{for(const t in e){if("consents"!==t)return void console.error('Unknown data "key" found while saving to session / local Storage');Ie(e.consents)}})(n),"object"==typeof window.dataLayer&&(!Be||void 0!==n.consents.consentBoxDismissed&&n.consents.consentBoxDismissed)&&(window.dataLayer.push({event:"consent-changed",...n.consents}),Be=!0),n}const Fe=function(){const e=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25}):u)(),t=(()=>{const e=Ae(xe,"consentsState"),t=Ae(localStorage,"consentsState");return{consents:{...e.consents,...t.consents}}})(),n=d(De,t,e);return n.dispatch({type:Me}),n}(),He=["tracking","html","maps","video","ads"];class Ue extends o{static get is(){return"toujou-consent-widget"}render(){return i`
      <slot name="consentWidgetHeader"></slot>
      <slot id="consentElements"></slot>
      <slot name="consentWarning" id="consentWarning"></slot>
    `}static get styles(){return Ce}set _warningVisible(e){this.setAttribute("warningvisible",e)}static get properties(){return{inPage:{type:Boolean},listenTo:{type:String},listenOn:{type:String},_warningVisible:{type:Boolean},deactivated:{type:Boolean}}}set listenTo(e){e.split(/\s+/).forEach((e=>{this.addEventListener(e,this._handleEvent)}))}set _dismissedBox(e){this.inPage||(e?this.setAttribute("hidden",""):this.removeAttribute("hidden")),this._warningVisible=this.inPage&&!e}constructor(){super(),this.inPage=!1,this.deactivated=!1,this.consentTypeNames=He,this.listenOn="*",this.onStateChange=this.onStateChange.bind(this),this._handleEvent=this._handleEvent.bind(this),this.store=Fe,this.store.subscribe(this.onStateChange),this._state=this.store.getState(),this._warningVisible=this.inPage,"#aaa"===window.location.hash&&(this.deactivated=!0),this.addEventListener("toujou-consent-connected",this._handleConsentConnected),this.addEventListener("toujou-consent-checkbox-changed",this._handleConsentCheckboxChanged)}connectedCallback(){super.connectedCallback(),this._dismissedBox=!!this._state.consents&&this._state.consents.consentBoxDismissed,this.deactivated?setTimeout((()=>{this._prepareToSaveConsents(),this._dismissConsentBox(),this._dispatchConsentDeactivated()})):setTimeout((()=>{const e=this.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e.length>0&&e[0].focus()}))}firstUpdated(){this.consentTypeNames.forEach((e=>{const t=this.querySelector(`toujou-consent[consenttype="${e}"]`);this._state.consents.consentBoxDismissed&&!this._state.consents[e]&&t&&this._undismissConsentBox()}))}onStateChange(){this._state=this.store.getState(),this._dismissedBox=this._state.consents.consentBoxDismissed,this._updateAllConsentElementsStates()}_handleEvent(e){e.stopPropagation(),"click"===e.type&&!this.inPage&&e.target.matches(this.listenOn)&&this._handleConsentBoxSaveButtonClick(e.target)}_handleConsentCheckboxChanged(e){this.inPage&&!0===this._state.consents.consentBoxDismissed&&(this._prepareToSaveConsents(),this._dispatchAddSnackbar(e.target.getAttribute("snackbarmessage")))}_handleConsentBoxSaveButtonClick(e){e.hasAttribute("accept-all")?this._prepareToSaveConsents(!0):e.hasAttribute("deny-all")?this._prepareToSaveConsents(!1):this._prepareToSaveConsents(null),this._dismissConsentBox()}_prepareToSaveConsents(e=null){const t=this._getAllConsents(e);this._saveAllConsents(t)}_getAllConsents(e=null){const t={},n=this.querySelectorAll("toujou-consent");return n&&n.forEach((n=>{const o=n.getAttribute("consenttype");t[o]=this._createNewConsentData(n,e)})),t}_createNewConsentData(e,t=null){const n=e.querySelector(".consent__checkbox");null!==t&&(n.checked=t);const o=this._createConsentLifeInMillis(e.getAttribute("consenttype"),e.getAttribute("consentlifetime")),i=n.checked,r=Date.now();return{consentGiven:i,consentCreationDate:r,consentExpirationDate:r+o,consentLifetime:o}}_createConsentLifeInMillis(e,t){return"tracking"===e?"0"===t?63072e6:0:24*t*60*60}_dismissConsentBox(){this.store.dispatch({type:Le}),this._dispatchConsentWidgetDismissedEvent()}_undismissConsentBox(){this.store.dispatch({type:ze})}_saveAllConsents(e){this.store.dispatch((e=>({type:Re,payload:e}))(e))}_handleConsentConnected(e){this._setConsentElementState(e.target)}_setConsentElementState(e){if("TOUJOU-CONSENT"===e.tagName){const t=e.getAttribute("consenttype"),n="1"===e.getAttribute("prechecked");e.consentState=this._getConsentTypeState(this._state,t,n)}}_updateAllConsentElementsStates(){this.querySelectorAll("toujou-consent").forEach((e=>{this._setConsentElementState(e)}))}_getConsentTypeState(e,t,n){var o;let i=null;return null!==(o=null==e?void 0:e.consents[t])&&void 0!==o&&o&&(i=e.consents[t]),i?i.consentGiven:n}_dispatchAddSnackbar(e){const t=new CustomEvent("toujou-add-snackbar",{bubbles:!0,composed:!0,detail:{message:e,type:"auto",duration:2500,variant:"success"}});this.dispatchEvent(t)}_dispatchConsentWidgetDismissedEvent(){const e=new CustomEvent("toujou-consent-widget-dismissed",{bubbles:!0,composed:!0});this.dispatchEvent(e)}_dispatchConsentDeactivated(){const e=new CustomEvent("toujou-consent-widget-deactivated",{bubbles:!0,composed:!0});this.dispatchEvent(e)}}customElements.define(Ue.is,Ue);var qe,We=decodeURIComponent,$e=/; */;function Ve(e,t){try{return"boolean"==typeof t?decodeURIComponent(e):t(e)}catch(n){return e}}!function(e){e.strict="strict",e.lax="lax",e.none="none"}(qe||(qe={}));class Ge extends Event{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{changed:[],deleted:[]};super(e,t),this.changed=t.changed||[],this.deleted=t.deleted||[]}}class Je extends EventTarget{constructor(){throw super(),new TypeError("Illegal Constructor")}get[Symbol.toStringTag](){return"CookieStore"}get(e){var t=this;return we((function*(){if(null==e)throw new TypeError("CookieStoreGetOptions must not be empty");if(e instanceof Object&&!Object.keys(e).length)throw new TypeError("CookieStoreGetOptions must not be empty");return(yield t.getAll(e))[0]}))()}set(e,t){var n=this;return we((function*(){var o,i,r,a={name:"",value:"",path:"/",secure:!1,sameSite:qe.strict,expires:null,domain:null};if("string"==typeof e)a.name=e,a.value=t;else{if(Object.assign(a,e),a.path&&!a.path.startsWith("/"))throw new TypeError('Cookie path must start with "/"');if(null===(o=a.domain)||void 0===o?void 0:o.startsWith("."))throw new TypeError('Cookie domain cannot start with "."');if(a.domain&&a.domain!==window.location.hostname)throw new TypeError("Cookie domain must domain-match current host");if((null===(i=a.name)||void 0===i?void 0:i.startsWith("__Host"))&&a.domain)throw new TypeError("Cookie domain must not be specified for host cookies");if((null===(r=a.name)||void 0===r?void 0:r.startsWith("__Host"))&&"/"!=a.path)throw new TypeError("Cookie path must not be specified for host cookies");a.path&&a.path.endsWith("/")&&(a.path=a.path.slice(0,-1)),""===a.path&&(a.path="/")}if(""===a.name&&a.value&&a.value.includes("="))throw new TypeError("Cookie value cannot contain '=' if the name is empty");a.name&&a.name.startsWith("__Host")&&(a.secure=!0);var s="".concat(a.name,"=").concat(encodeURIComponent(a.value));switch(a.domain&&(s+="; Domain="+a.domain),a.path&&(s+="; Path="+a.path),"number"==typeof a.expires?s+="; Expires="+new Date(a.expires).toUTCString():a.expires instanceof Date&&(s+="; Expires="+a.expires.toUTCString()),(a.name&&a.name.startsWith("__Secure")||a.secure)&&(a.sameSite=qe.lax,s+="; Secure"),a.sameSite){case qe.lax:s+="; SameSite=Lax";break;case qe.strict:s+="; SameSite=Strict";break;case qe.none:s+="; SameSite=None"}var c=n.get(a);if(document.cookie=s,n.onchange){var l=[],u=[];c&&!(yield n.get(a))?u.push(ve(ve({},a),{},{value:void 0})):l.push(a);var d=new Ge("change",{changed:l,deleted:u});n.onchange(d)}}))()}getAll(e){return we((function*(){var t,n,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n=[],o=t||{},i=e.split($e),r=o.decode||We,a=0;a<i.length;a++){var s=i[a],c=s.indexOf("=");if(!(c<0)){var l=s.substr(0,c).trim(),u=s.substr(++c,s.length).trim();'"'==u[0]&&(u=u.slice(1,-1)),null==n[l]&&n.push({name:l,value:Ve(u,r)})}}return n}(document.cookie);if(null==e||0===Object.keys(e).length)return o;if("string"==typeof e?t=e:(t=e.name,n=e.url),n){var i=new URL(n,window.location.origin);if(window.location.href!==i.href||window.location.origin!==i.origin)throw new TypeError("URL must match the document URL");return o.slice(0,1)}return o.filter((e=>e.name===t))}))()}delete(e){var t=this;return we((function*(){var n={name:"",value:"",path:"/",secure:!1,sameSite:qe.strict,expires:null,domain:null};"string"==typeof e?n.name=e:Object.assign(n,e),n.expires=0,yield t.set(n)}))()}}var Ye=new WeakMap,Xe=new WeakMap;class Ke{get[Symbol.toStringTag](){return"CookieStoreManager"}constructor(){throw new TypeError("Illegal Constructor")}subscribe(e){var t=this;return we((function*(){var n=Ye.get(t)||[],o=Xe.get(t);if(!o)throw new TypeError("Illegal invocation");var i=function*(){var e=r.name,t=new URL(r.url||"",o.scope).toString();if(n.some((n=>n.name===e&&n.url===t)))return"continue";n.push({name:r.name,url:t})};for(var r of e)yield*i();Ye.set(t,n)}))()}getSubscriptions(){var e=this;return we((function*(){return(Ye.get(e)||[]).map((e=>{var{name:t,url:n}=e;return{name:t,url:n}}))}))()}unsubscribe(e){var t=this;return we((function*(){var n=Ye.get(t)||[],o=Xe.get(t);if(!o)throw new TypeError("Illegal invocation");var i=function*(){var e=r.name,t=new URL(r.url||"",o.scope).toString();n=n.filter((n=>n.name!==e||n.url!==t))};for(var r of e)yield*i();Ye.set(t,n)}))()}}"undefined"==typeof ServiceWorkerRegistration||"cookies"in ServiceWorkerRegistration.prototype||Object.defineProperty(ServiceWorkerRegistration.prototype,"cookies",{configurable:!0,enumerable:!0,get(){var e=Object.create(Ke.prototype);return Xe.set(e,this),Object.defineProperty(this,"cookies",{value:e}),e}});var Qe,Ze=Object.create(Je.prototype);window.dataLayer=window.dataLayer||[];class et extends HTMLElement{get analyticsid(){return this.getAttribute("analyticsid")}constructor(){super(),this.hidden=!0,this.style.display="contents",this.onStateChange=this.onStateChange.bind(this),this.store=Fe}connectedCallback(){this._storeUnsubscribe=this.store.subscribe(this.onStateChange),this.onStateChange()}disconnectedCallback(){this._storeUnsubscribe&&this._storeUnsubscribe()}onStateChange(){const e=this.store.getState().consents.tracking||null;JSON.stringify(e)!==JSON.stringify(this.consentState)&&(this.consentState=e,this._handleConsentState(this.consentState))}_handleConsentState(e){"object"==typeof e&&null!==e&&e.consentGiven?this._instantiateGoogleAnalytics(e):this._disableGoogleAnalytics()}_instantiateGoogleAnalytics(e){if(this.gaIsInstantiated)return;const t=this.analyticsid;window[`ga-disable-${t}`]=!1;const n={cookie_expires:e.consentExpirationDate,anonymize_ip:!0};function o(...e){window.dataLayer.push(arguments)}window.gtag=o,this._ga||(this._ga=this._addAnalyticsScriptTag(t),o("js",new Date)),o("config",t,n),this.gaIsInstantiated=!0,this._dispatchGtagLoadedEvent()}_addAnalyticsScriptTag(e){const t=`https://www.googletagmanager.com/gtag/js?id=${e}`,n=document.createElement("script"),o=document.getElementsByTagName("script")[0];return n.async=!0,n.src=t,o.parentNode.insertBefore(n,o),!0}_disableGoogleAnalytics(){["_ga","_gid","_gat"].forEach((e=>{Ze.delete(e)})),window[`ga-disable-${this.analyticsid}`]=!0,this.gaIsInstantiated=!1}_dispatchGtagLoadedEvent(){const e=new CustomEvent("toujou-gtag-loaded",{bubbles:!0,composed:!0});this.dispatchEvent(e)}}customElements.define("toujou-tracking-google-analytics",et),window._paq=window._paq||[];class tt extends HTMLElement{get url(){return this.getAttribute("url").replace(/^\/\//,`${window.location.protocol}//`)}get siteid(){return this.getAttribute("siteid")}constructor(){super(),this.hidden=!0,this.style.display="contents",this.onStateChange=this.onStateChange.bind(this),this.store=Fe}connectedCallback(){this._instantiateMatomo(),this._storeUnsubscribe=this.store.subscribe(this.onStateChange),this.onStateChange()}disconnectedCallback(){this._storeUnsubscribe&&this._storeUnsubscribe()}onStateChange(){const e=this.store.getState().consents.tracking||null;JSON.stringify(e)!==JSON.stringify(this.consentState)&&(this.consentState=e,this._handleConsentState(this.consentState))}_handleConsentState(e){const{_paq:t}=window;"object"==typeof e&&null!==e&&e.consentGiven?this._enableAnonymizedTracking(e,t):this._disableAnonymizedTracking(t)}_enableAnonymizedTracking(e,t){t.push(["setCookieConsentGiven"])}_disableAnonymizedTracking(e){e.push(["forgetCookieConsentGiven"]),Ze.getAll().then((e=>e.forEach((e=>{(e.name.match(/^_pk_.*$/)||e.name.match(/^_mtm_.*$/)||e.name.match(/^MATOMO.*$/))&&Ze.delete(e.name)}))))}_instantiateMatomo(){if(this.matomoIsInstantiated)return;const e=new URL(this.url),t=new URL(e);t.pathname="/matomo.php";const n=new URL(e);n.pathname="/matomo.js";const{_paq:o}=window;o.push(["requireCookieConsent"]),o.push(["trackPageView"]),o.push(["enableLinkTracking"]),o.push(["setTrackerUrl",t.toString()]),o.push(["setSiteId",this.siteid]),this._matomo||(this._matomo=this._addMatomoScriptTag(n)),this.matomoIsInstantiated=!0,this._dispatchMatomoLoadedEvent()}_addMatomoScriptTag(e){const t=document.createElement("script"),n=document.getElementsByTagName("script")[0];return t.async=!0,t.src=e.toString(),n.parentNode.insertBefore(t,n),!0}_dispatchMatomoLoadedEvent(){const e=new CustomEvent("toujou-matomo-loaded",{bubbles:!0,composed:!0});this.dispatchEvent(e)}}customElements.define("toujou-tracking-matomo",tt);var nt=n(Qe||(Qe=Se([":host {\n    display: var(--toujou-third-party-content-display, flex);\n    -webkit-box-align: var(--toujou-third-party-content-align-items, stretch);\n        -ms-flex-align: var(--toujou-third-party-content-align-items, stretch);\n            align-items: var(--toujou-third-party-content-align-items, stretch);\n    -webkit-box-pack: var(--toujou-third-party-content-justify-content, center);\n        -ms-flex-pack: var(--toujou-third-party-content-justify-content, center);\n            justify-content: var(--toujou-third-party-content-justify-content, center);\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: var(--toujou-third-party-content-flex-direction, column);\n            flex-direction: var(--toujou-third-party-content-flex-direction, column);\n    position: var(--toujou-third-party-content-position, relative);\n    top: var(--toujou-third-party-content-top, 0);\n    left: var(--toujou-third-party-content-left, 0);\n    height: var(--toujou-third-party-content-height, 100%);\n    width: var(--toujou-third-party-content-width, 100%);\n}\n\n:host([contenttype='maps']) {\n    position: var(--toujou-third-party-content-maps-position, absolute);\n}\n\niframe {\n    border: var(--toujou-third-party-content-iframe-border, none);\n    position: var(--toujou-third-party-content-iframe-position, absolute);\n    height: var(--toujou-third-party-content-iframe-height, 100%);\n    width: var(--toujou-third-party-content-iframe-width, 100%);\n}\n\n:host([contenttype='html']) iframe {\n    position: var(--toujou-third-party-content-html-iframe-position, relative);\n}\n"])));class ot extends o{static get is(){return"toujou-third-party-content"}static get styles(){return nt}render(){return i`
      <slot id="templatedContent" @slotchange="${this._handleSlotChange}"></slot>
      <div @click="${this._handlePlaceholderClick}">
        <slot name="placeholder" id="placeholderContainer" class="placeholder-slot"></slot>
      </div>
    `}static get properties(){return{contentType:{type:String},contentTypeAllowed:{type:Boolean},contentID:{type:String},isIntersecting:{type:Boolean},show:{type:Boolean}}}constructor(){super(),this.contentTypeAllowed=!1,this.isIntersecting=!1,this.show=!1,this.onStateChange=this.onStateChange.bind(this),this._handleConsentButtonClick=this._handleConsentButtonClick.bind(this),this.store=Fe,this.store.subscribe(this.onStateChange),this._state=this.store.getState()}connectedCallback(){super.connectedCallback(),this._isContentTypeAllowed(),this._checkIfShouldShow(),this._addEventListeners(),this._addIntersectionObserver()}updated(e){e.forEach(((e,t)=>{"isIntersecting"===t&&this.isIntersecting&&!this.show&&(this.show=!0,this._checkIfShouldShow())}))}onStateChange(){this._state=this.store.getState(),this._isContentTypeAllowed(),this._checkIfShouldShow()}_addEventListeners(){window.addEventListener("toujou-consent-widget-dismissed",(()=>{this._isContentTypeAllowed(),this._checkIfShouldShow()})),window.addEventListener("toujou-consent-button-clicked",this._handleConsentButtonClick)}_handleConsentButtonClick(e){const t=e.target;this.querySelectorAll(".consent").forEach((n=>{n===t&&(this._saveSingleConsent(e.target.getAttribute("consenttype"),this._createNewConsentData(e.target)),this._dispatchAddSnackbar(e.target.getAttribute("snackbarmessage")))}))}_createNewConsentData(e){const t=24*e.getAttribute("consentLifetime")*60*60;return{consentGiven:!0,consentCreationDate:Date.now(),consentExpirationDate:Date.now()+t,consentLifetime:t}}_saveSingleConsent(e,t){this.store.dispatch(((e,t)=>({type:Ne,payload:{consentType:e,consentData:t}}))(e,t))}_dispatchAddSnackbar(e){const t=new CustomEvent("toujou-add-snackbar",{bubbles:!0,composed:!0,detail:{message:e,type:"auto",duration:2500,variant:"success"}});this.dispatchEvent(t)}_handlePlaceholderClick(e){e.target.hasAttribute("ttpc-showcontentonce")&&this._handleShowContentOnceClick()}_handleShowContentOnceClick(){this._showContent()}_addIntersectionObserver(){new IntersectionObserver(((e,t)=>{this.isIntersecting=e[0].isIntersecting,this.isIntersecting&&t.unobserve(this)})).observe(this)}_appendNonScriptTag(e){this.querySelector(".toujou-third-party-content__templated-content").appendChild(e)}_appendScriptTag(e){const t=document.createElement("script"),n=this._copyScriptAttributesAndContent(e,t);return this.querySelector(".toujou-third-party-content__templated-content").appendChild(n),!n.hasAttribute("src")||n.hasAttribute("async")||n.hasAttribute("defer")?new Promise((e=>{e()})):new Promise((e=>{n.addEventListener("load",e)}))}async _appendTags(e){for(let t=0;t<e.length;t++)await new Promise((n=>{"SCRIPT"!==e[t].tagName?n(this._appendNonScriptTag(e[t])):n(this._appendScriptTag(e[t]))}))}_checkIfShouldShow(){this.contentTypeAllowed&&this.show&&this._showContent()}_clearRenderedContent(){this.querySelector(".toujou-third-party-content__templated-content").innerHTML=""}_copyScriptAttributesAndContent(e,t){for(let n=0;n<e.attributes.length;n++){const o=e.attributes[n];t.setAttribute(o.name,o.value)}return t.innerHTML=e.innerHTML,t}_getTemplateTags(e){const t=[],n=document.createElement("div");n.innerHTML=e;for(const o in n.childNodes)3!==n.childNodes[o].nodeType&&n.childNodes[o].parentElement===n&&t.push(n.childNodes[o]);return t}_handleSlotChange(){this._checkIfShouldShow()}_isCommentedTemplate(e){return e.startsWith("\x3c!--")&&e.endsWith("--\x3e")}_isContentTypeAllowed(){this._state.consents[this.contentType]?this.contentTypeAllowed=this._state.consents[this.contentType].consentGiven||!1:this.contentTypeAllowed=!1,"#aaa"===window.location.hash&&(this.contentTypeAllowed=!0)}_showContent(){this._clearRenderedContent(),this.shadowRoot.querySelector("#templatedContent").assignedNodes({flatten:!0}).filter((e=>"TEMPLATE"===e.tagName)).forEach((e=>{if(this._isCommentedTemplate(e.innerHTML)){const t=this._uncommentTemplate(e),n=this._getTemplateTags(t);this._appendTags(n)}else{const t=document.importNode(e.content,!0);this.querySelector(".toujou-third-party-content__templated-content").appendChild(t)}})),this.setAttribute("showingcontent","")}_uncommentTemplate(e){return this._isCommentedTemplate(e.innerHTML)?e.innerHTML.substr(4,e.innerHTML.length-7):e}}customElements.define(ot.is,ot);class it extends o{createRenderRoot(){return this}constructor(){super(),this.consentTypeNames=He,this.onStateChange=this.onStateChange.bind(this),this.store=Fe,this.store.subscribe(this.onStateChange),this.state=this.store.getState()}}class rt extends it{static get is(){return"toujou-consent-state-emitter-gtm"}onStateChange(){if(this.state=this.store.getState(),!window.gtag)throw new Error("TOUJOU: Could not get the gtag library to set the ads consent state!");this._updateGtmTrackingState(),this._updateGtmAdsState()}_updateGtmTrackingState(){const e=this.state.consents.tracking,t={analytics_storage:!0===(null==e?void 0:e.consentGiven)?"granted":"denied"};this._sendGtagConsentUpdate(t)}_updateGtmAdsState(){const e=this.state.consents.ads,t=!0===(null==e?void 0:e.consentGiven)?"granted":"denied",n={ad_storage:t,ad_user_data:t,ad_personalization:t};this._sendGtagConsentUpdate(n)}_sendGtagConsentUpdate(e){window.gtag("consent","update",e)}}customElements.define(rt.is,rt);class at extends o{static get is(){return"toujou-iframe-resizer"}render(){return i`
      <slot @slotchange="${this.handleSlotChange}"></slot>`}handleSlotChange(e){e.target.assignedNodes({flatten:!0}).filter((e=>e instanceof HTMLIFrameElement)).forEach((e=>{let t={};try{t=JSON.parse(e.getAttribute("toujou-iframe"))||{}}catch(n){(console.error||console.log).call(console,n.stack||n)}I.iframeResizer(t,e)}))}}customElements.define(at.is,at);
//# sourceMappingURL=base.js.map
