{"version":3,"file":"toujou-topbutton.js","sources":["../../node_modules/@toujou/toujou-topbutton/lib/index.js"],"sourcesContent":["import{__decorate as e}from\"tslib\";import{LitElement as t,html as i}from\"lit\";import{property as s}from\"lit/decorators.js\";class n extends t{static get is(){return\"toujou-topbutton\"}constructor(){super(),this.visible=!1,this._checkVisibility=()=>{this.visible=document.body.scrollTop>this._viewportHeight||document.documentElement.scrollTop>this._viewportHeight},this._checkVisibility=this._checkVisibility.bind(this)}render(){return i`\n            <slot id=\"content\"></slot>\n        `}connectedCallback(){super.connectedCallback(),this.setAttribute(\"role\",\"button\"),this._checkVisibility(),window.addEventListener(\"scroll\",this._checkVisibility),window.addEventListener(\"resize\",this._checkVisibility),this.addEventListener(\"click\",this._handleClick),this.addEventListener(\"keyup\",this._handleKeyUp)}disconnectedCallback(){window.removeEventListener(\"scroll\",this._checkVisibility),window.addEventListener(\"resize\",this._checkVisibility),this.removeEventListener(\"click\",this._handleClick),this.removeEventListener(\"keyup\",this._handleKeyUp),super.disconnectedCallback()}updated(e){super.updated(e),e.has(\"visible\")&&this.setAttribute(\"aria-hidden\",(!this.visible).toString())}get _viewportHeight(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}_handleClick(){window.scrollTo({top:0,left:0,behavior:\"smooth\"}),this._resetFocus()}_handleKeyUp(e){\"Enter\"!==e.key&&\"Enter\"!==e.code&&\"Space\"!==e.code&&\" \"!==e.key||this._handleClick()}_resetFocus(){const e=document.activeElement;e&&e.blur()}}e([s({type:Boolean,attribute:\"is-visible\",reflect:!0})],n.prototype,\"visible\",void 0),customElements.define(n.is,n);//# sourceMappingURL=index.js.map\n"],"names":["n","t","is","constructor","super","this","visible","_checkVisibility","document","body","scrollTop","_viewportHeight","documentElement","bind","render","i","connectedCallback","setAttribute","window","addEventListener","_handleClick","_handleKeyUp","disconnectedCallback","removeEventListener","updated","e","has","toString","Math","max","clientHeight","innerHeight","scrollTo","top","left","behavior","_resetFocus","key","code","activeElement","blur","s","type","Boolean","attribute","reflect","prototype","customElements","define"],"mappings":"0LAA2H,MAAMA,UAAUC,EAAE,aAAWC,GAAW,MAAA,kBAAkB,CAAC,WAAAC,GAAcC,QAAQC,KAAKC,SAAQ,EAAGD,KAAKE,iBAAiB,KAAUF,KAAAC,QAAQE,SAASC,KAAKC,UAAUL,KAAKM,iBAAiBH,SAASI,gBAAgBF,UAAUL,KAAKM,eAAA,EAAiBN,KAAKE,iBAAiBF,KAAKE,iBAAiBM,KAAKR,KAAK,CAAC,MAAAS,GAAgBC,OAAAA,CAAAA;;SAEza,CAAC,iBAAAC,GAAoBZ,MAAMY,oBAAoBX,KAAKY,aAAa,OAAO,UAAUZ,KAAKE,mBAAmBW,OAAOC,iBAAiB,SAASd,KAAKE,kBAAkBW,OAAOC,iBAAiB,SAASd,KAAKE,kBAAkBF,KAAKc,iBAAiB,QAAQd,KAAKe,cAAcf,KAAKc,iBAAiB,QAAQd,KAAKgB,aAAa,CAAC,oBAAAC,GAA8BJ,OAAAK,oBAAoB,SAASlB,KAAKE,kBAAkBW,OAAOC,iBAAiB,SAASd,KAAKE,kBAAkBF,KAAKkB,oBAAoB,QAAQlB,KAAKe,cAAcf,KAAKkB,oBAAoB,QAAQlB,KAAKgB,cAAcjB,MAAMkB,sBAAsB,CAAC,OAAAE,CAAQC,GAAGrB,MAAMoB,QAAQC,GAAGA,EAAEC,IAAI,YAAYrB,KAAKY,aAAa,gBAAgBZ,KAAKC,SAASqB,WAAW,CAAC,mBAAIhB,GAAkB,OAAOiB,KAAKC,IAAIrB,SAASI,gBAAgBkB,aAAaZ,OAAOa,aAAa,EAAE,CAAC,YAAAX,GAAsBF,OAAAc,SAAS,CAACC,IAAI,EAAEC,KAAK,EAAEC,SAAS,WAAW9B,KAAK+B,aAAa,CAAC,YAAAf,CAAaI,GAAG,UAAUA,EAAEY,KAAK,UAAUZ,EAAEa,MAAM,UAAUb,EAAEa,MAAM,MAAMb,EAAEY,KAAKhC,KAAKe,cAAc,CAAC,WAAAgB,GAAc,MAAMX,EAAEjB,SAAS+B,cAAcd,GAAGA,EAAEe,MAAM,EAAEf,EAAE,CAACgB,EAAE,CAACC,KAAKC,QAAQC,UAAU,aAAaC,SAAQ,KAAM7C,EAAE8C,UAAU,eAAU,GAAQC,eAAeC,OAAOhD,EAAEE,GAAGF"}