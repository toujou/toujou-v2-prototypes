{"version":3,"file":"toujou-clamped-content.js","sources":["../../src/components/toujou-clamped-content/toujou-clamped-content.styles.ts","../../src/components/toujou-clamped-content/toujou-clamped-content.ts"],"sourcesContent":["import { css } from 'lit';\n\nexport const ToujouClampedContentStyles = css`\n  :host {\n    --toujou-clamped-content-number-of-lines: 3;\n    --toujou-clamped-content-word-break: 'none';\n    --toujou-clamped-content-button-visible-display: flex;\n    --toujou-clamped-content-button-hidden-display: none;\n    --toujou-clamped-content-button-slot-display: flex;\n    --toujou-clamped-content-button-slot-justify-content: flex-end;\n  }\n\n  :host([is-open]) {\n    --toujou-clamped-content-number-of-lines: 9999;\n  }\n\n  :host([clamp-disabled]) {\n    --toujou-clamped-content-number-of-lines: 9999;\n    --toujou-clamped-content-button-visible-display: none;\n  }\n\n  .clamped-content {\n    display: -webkit-box;\n    -webkit-line-clamp: var(--toujou-clamped-content-number-of-lines);\n    -webkit-box-orient: vertical;\n    word-break: var(--toujou-clamped-content-word-break);\n    overflow: hidden;\n    hyphens: auto;\n  }\n\n  :host slot[name=\"show-button\"] {\n    display: var(--toujou-clamped-content-button-visible-display);\n  }\n\n  :host([is-open]) slot[name=\"show-button\"] {\n    display: var(--toujou-clamped-content-button-hidden-display);\n  }\n\n  :host slot[name=\"hide-button\"] {\n    display: var(--toujou-clamped-content-button-hidden-display);\n  }\n\n  :host([is-open]) slot[name=\"hide-button\"] {\n    display: var(--toujou-clamped-content-button-visible-display);\n  }\n\n  .button-slot {\n    margin-top: var(--spacing-normal);\n    display: var(--toujou-clamped-content-button-slot-display);\n    justify-content: var(--toujou-clamped-content-button-slot-justify-content);\n  }\n`;\n","import { LitElement, html } from 'lit';\nimport { customElement, property } from 'lit/decorators.js'\nimport { ToujouClampedContentStyles } from \"./toujou-clamped-content.styles\";\n\n@customElement('toujou-clamped-content')\nexport class ToujouClampedContent extends LitElement {\n    static styles = [ToujouClampedContentStyles];\n\n    @property({ type: Boolean, attribute: 'is-open', reflect: true })\n    private isOpen: boolean = false;\n\n    @property({ type: Boolean, attribute: 'clamp-disabled', reflect: true })\n    protected clampDisabled: boolean = false;\n\n    render() {\n        return html`\n            <div class=\"clamped-content\">\n                <slot name=\"clamped-content\"></slot>\n            </div>\n            <slot name=\"show-button\" class=\"button-slot\" @click=\"${this.#toggleIsOpenState}\"></slot>\n            <slot name=\"hide-button\" class=\"button-slot\" @click=\"${this.#toggleIsOpenState}\"></slot>\n        `;\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n\n        this.#updateClampEnabledState();\n    }\n\n    /**\n     * Toggle the isOpen state, which also reflect to an attribute (which sets the correct styles)\n     * @private\n     */\n    #toggleIsOpenState = () => {\n        this.isOpen = !this.isOpen;\n    }\n\n    /**\n     * Check if there is enough content to enable the content clamping\n     * @private\n     */\n    #updateClampEnabledState() {\n        requestAnimationFrame(() => {\n            const contentSlotElement = this.querySelector('.review__review');\n            if (!contentSlotElement) {\n                this.clampDisabled = true;\n            } else {\n                this.clampDisabled = contentSlotElement.scrollHeight <= contentSlotElement.clientHeight;\n            }\n        });\n    }\n}\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'toujou-clamped-content': ToujouClampedContent\n    }\n}\n"],"names":["ToujouClampedContentStyles","css","_toggleIsOpenState","_updateClampEnabledState","updateClampEnabledState_fn","ToujouClampedContent","LitElement","constructor","super","arguments","__privateAdd","this","isOpen","clampDisabled","render","html","__privateGet","connectedCallback","call","WeakMap","WeakSet","requestAnimationFrame","contentSlotElement","querySelector","scrollHeight","clientHeight","styles","__decorateClass","property","type","Boolean","attribute","reflect","prototype","customElement"],"mappings":"sMAEO,MAAMA,EAA6BC,CAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MCF1CC,EAAAC,EAAAC,+bAKa,IAAAC,EAAN,cAAmCC,EAAnC,WAAAC,GAAAC,SAAAC,WAqCHC,EAAAC,KAAAR,GAjCAQ,KAAQC,QAAkB,EAG1BD,KAAUE,eAAyB,EAsBnCH,EAAAC,KAAAT,GAAqB,KACZS,KAAAC,QAAUD,KAAKC,MAAA,GACxB,CAtBA,MAAAE,GACWC,OAAAA,CAAAA;;;;mEAIoDC,EAAKL,KAAAT;mEACLc,EAAKL,KAAAT;SAEpE,CAEA,iBAAAe,aACIT,MAAMS,uBAENN,OAAKR,IAALC,oCAAAc,KAAAP,KACJ,GAMAT,MAAAiB,QAQAhB,MAAAiB,QAAAhB,EAAwB,WACpBiB,uBAAsB,KACZ,MAAAC,EAAqBX,KAAKY,cAAc,mBAIrCZ,KAAAE,eAHJS,GAGoBA,EAAmBE,cAAgBF,EAAmBG,YAC/E,GAER,EA9CSpB,EACFqB,OAAS,CAAC1B,GAGT2B,EAAA,CADPC,EAAS,CAAEC,KAAMC,QAASC,UAAW,UAAWC,SAAS,KAHjD3B,EAID4B,UAAA,SAAA,GAGEN,EAAA,CADTC,EAAS,CAAEC,KAAMC,QAASC,UAAW,iBAAkBC,SAAS,KANxD3B,EAOC4B,UAAA,gBAAA,GAPD5B,EAANsB,EAAA,CADNO,EAAc,2BACF7B"}