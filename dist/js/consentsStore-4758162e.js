function s(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var O=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),p=function(){return Math.random().toString(36).substring(7).split("").join(".")},h={INIT:"@@redux/INIT"+p(),REPLACE:"@@redux/REPLACE"+p(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+p()}};function R(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function b(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(s(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(s(1));return n(b)(e,t)}if(typeof e!="function")throw new Error(s(2));var u=e,i=t,S=[],f=S,l=!1;function g(){f===S&&(f=S.slice())}function y(){if(l)throw new Error(s(3));return i}function N(o){if(typeof o!="function")throw new Error(s(4));if(l)throw new Error(s(5));var a=!0;return g(),f.push(o),function(){if(a){if(l)throw new Error(s(6));a=!1,g();var c=f.indexOf(o);f.splice(c,1),S=null}}}function E(o){if(!R(o))throw new Error(s(7));if(typeof o.type>"u")throw new Error(s(8));if(l)throw new Error(s(9));try{l=!0,i=u(i,o)}finally{l=!1}for(var a=S=f,d=0;d<a.length;d++){var c=a[d];c()}return o}function P(o){if(typeof o!="function")throw new Error(s(10));u=o,E({type:h.REPLACE})}function B(){var o,a=N;return o={subscribe:function(c){if(typeof c!="object"||c===null)throw new Error(s(11));function w(){c.next&&c.next(y())}w();var D=a(w);return{unsubscribe:D}}},o[O]=function(){return this},o}return E({type:h.INIT}),r={dispatch:E,subscribe:N,getState:y,replaceReducer:P},r[O]=B,r}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,u){return function(){return r(u.apply(void 0,arguments))}})}const v={setItem(e,t){document.cookie=`${e}=${t};path=/;`},getItem(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0,u=n.length;r<u;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null}},m=(e,t,n)=>{try{const r=JSON.stringify(e);t.setItem(n,r);return}catch(r){console.error(`There was an error while saving the consents data to storage: Error: ${r}`)}},_=(e,t)=>{try{const n=e.getItem(t);return n===null?{}:JSON.parse(n)}catch(n){return console.error(`There was a problem loading the consents data from storage. Error: ${n}`),{}}},U=()=>{const e=_(v,"consentsState"),t=_(localStorage,"consentsState"),n={};return n.consents={...e.consents,...t.consents},n},X=e=>{const t={},n={};for(const r in e)r==="consentBoxDismissed"?n[r]=e[r]:r==="tracking"&&e[r].consentLifetime===0?t[r]=e[r]:r==="tracking"&&e[r].consentLifetime>0?n[r]=e[r]:e[r].consentLifetime===0?t[r]=e[r]:e[r].consentLifetime>0&&(n[r]=e[r]);m({consents:t},v,"consentsState"),m({consents:n},localStorage,"consentsState")},j=e=>{for(const t in e){if(t!=="consents"){console.error('Unknown data "key" found while saving to session / local Storage');return}X(e.consents)}},C="CLEAR_CONSENT_TYPE_DATA",I="SAVE_ALL_CONSENTS",L="SAVE_SINGLE_CONSENT",A="DISMISS_CONSENT_BOX",x="UNDISMISS_CONSENT_BOX",$={consents:{consentBoxDismissed:!1}},K=e=>({type:C,payload:e}),z=e=>({type:I,payload:e}),G=(e,t)=>({type:L,payload:{consentType:e,consentData:t}}),J=()=>({type:A}),Y=()=>({type:x});function k(e,t){switch(t.type){case C:{const n={...e.consents};return delete n[t.payload],{...e,consents:n}}case I:{const n={...e.consents,...t.payload};return{...e,consents:n}}case L:{const n={...e.consents};return n[t.payload.consentType]={...t.payload.consentData},{...e,consents:n}}case A:{const n={...e.consents};return n.consentBoxDismissed=!0,{...e,consents:n}}case x:{const n={...e.consents};return n.consentBoxDismissed=!1,{...e,consents:n}}}return e}let T=!1;function V(e=$,t){const n=k(e,t);return j(n),typeof window.dataLayer=="object"&&(!T||n.consents.consentBoxDismissed!==void 0&&n.consents.consentBoxDismissed)&&(window.dataLayer.push({event:"consent-changed",...n.consents}),T=!0),n}function W(){const t=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||M)(),n=U();return b(V,n,t)}const Q=W();export{z as a,K as b,Q as c,J as d,G as s,Y as u};
//# sourceMappingURL=consentsStore-4758162e.js.map
