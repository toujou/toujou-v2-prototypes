import{_ as e,a as o}from"./tslib.es6-c85c2c5e.js";import{s as h,y as m}from"./lit-element-6fe74b4f.js";import{e as g}from"./custom-element-73470d87.js";import{e as r}from"./property-1027a1df.js";import"./query-assigned-elements-acf341e1.js";var n,s,p;let t=class extends h{get result(){const i=Math.round(this.duration);return i===0?`${this.lessThanText} 1 ${this.minutesSingularText}`:i===1?`1 ${this.minutesSingularText}`:`${i} ${this.minutesPluralText}`}render(){return m`
      <slot name="label" class="label"></slot>
      ${this.result}
    `}constructor(){super(),n.add(this),this.wordCount=0,this.duration=0,this.targetSelector="body",this.minutesSingularText="minute",this.minutesPluralText="minutes",this.lessThanText="under",this.readingSpeed=250,s.set(this,()=>{this.targetEl=document.querySelector(`${this.targetSelector}`),this.targetEl&&(this.wordCount+=o(this,n,"m",p).call(this,this.targetEl))}),document.readyState==="complete"||document.readyState==="interactive"?setTimeout(o(this,s,"f")):document.addEventListener("DOMContentLoaded",o(this,s,"f"))}updated(i){i.has("wordCount")&&(this.duration=Math.ceil(this.wordCount/this.readingSpeed))}};s=new WeakMap,n=new WeakSet,p=function(i){const a=i.textContent,u=a==null?void 0:a.replace(/[\n\r]+|[\s]{2,}/g," "),l=u==null?void 0:u.trim(),d=l==null?void 0:l.split(" ");return(d==null?void 0:d.length)||0},e([r({type:Number})],t.prototype,"wordCount",void 0),e([r({type:Number})],t.prototype,"duration",void 0),e([r({type:String,attribute:"target-selector"})],t.prototype,"targetSelector",void 0),e([r({type:String,attribute:"minutes-singular-text"})],t.prototype,"minutesSingularText",void 0),e([r({type:String,attribute:"minutes-plural-text"})],t.prototype,"minutesPluralText",void 0),e([r({type:String,attribute:"less-than-text"})],t.prototype,"lessThanText",void 0),e([r({type:Number,attribute:"reading-speed"})],t.prototype,"readingSpeed",void 0),t=e([g("toujou-estimated-reading-time")],t);
//# sourceMappingURL=toujou-estimated-reading-time.js.map
