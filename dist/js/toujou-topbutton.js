import{s as c,y as a}from"./lit-element-cb538606.js";import{e as h}from"./property-1027a1df.js";import"./query-assigned-elements-acf341e1.js";var d=Object.defineProperty,u=Object.getOwnPropertyDescriptor,b=(s,e,o,i)=>{for(var t=i>1?void 0:i?u(e,o):e,n=s.length-1,r;n>=0;n--)(r=s[n])&&(t=(i?r(e,o,t):r(t))||t);return i&&t&&d(e,o,t),t};class l extends c{constructor(){super(),this.visible=!1,this._checkVisibility=()=>{this.visible=document.body.scrollTop>this._viewportHeight||document.documentElement.scrollTop>this._viewportHeight},this._getFirstFocusableElementOnPage=()=>{let e=document.querySelector(':not(:is(.header, .navigation)) :is(a, input, select, textarea, button, [tabindex]:not([tabindex="-1"]))');if(e)return e;console.error("TOUJOU: Could not add focus to the first element on the page")},this._checkVisibility=this._checkVisibility.bind(this)}static get is(){return"toujou-topbutton"}render(){return a`
            <slot id="content"></slot>
        `}connectedCallback(){super.connectedCallback(),this.setAttribute("role","button"),this._checkVisibility(),window.addEventListener("scroll",this._checkVisibility),window.addEventListener("resize",this._checkVisibility),this.addEventListener("click",this._handleClick)}disconnectedCallback(){window.removeEventListener("scroll",this._checkVisibility),window.addEventListener("resize",this._checkVisibility),this.removeEventListener("click",this._handleClick),super.disconnectedCallback()}updated(e){super.updated(e),e.has("visible")&&this.setAttribute("aria-hidden",(!this.visible).toString())}get _viewportHeight(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}_handleClick(){window.scrollTo({top:0,left:0,behavior:"smooth"});const e=this._getFirstFocusableElementOnPage();e&&(e.focus(),requestAnimationFrame(()=>{e.focus()}))}}b([h({type:Boolean,attribute:"is-visible",reflect:!0})],l.prototype,"visible",2);customElements.define(l.is,l);
//# sourceMappingURL=toujou-topbutton.js.map
