import{_ as e}from"./tslib.es6-Br7-PHSQ.js";import{s as t,y as i}from"./lit-element-BhLV4vUl.js";import{e as s}from"./property-D5hxO1nL.js";import"./query-assigned-elements-CrfAJxAz.js";class n extends t{static get is(){return"toujou-topbutton"}constructor(){super(),this.visible=!1,this._checkVisibility=()=>{this.visible=document.body.scrollTop>this._viewportHeight||document.documentElement.scrollTop>this._viewportHeight},this._checkVisibility=this._checkVisibility.bind(this)}render(){return i`
            <slot id="content"></slot>
        `}connectedCallback(){super.connectedCallback(),this.setAttribute("role","button"),this._checkVisibility(),window.addEventListener("scroll",this._checkVisibility),window.addEventListener("resize",this._checkVisibility),this.addEventListener("click",this._handleClick),this.addEventListener("keyup",this._handleKeyUp)}disconnectedCallback(){window.removeEventListener("scroll",this._checkVisibility),window.addEventListener("resize",this._checkVisibility),this.removeEventListener("click",this._handleClick),this.removeEventListener("keyup",this._handleKeyUp),super.disconnectedCallback()}updated(e){super.updated(e),e.has("visible")&&this.setAttribute("aria-hidden",(!this.visible).toString())}get _viewportHeight(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}_handleClick(){window.scrollTo({top:0,left:0,behavior:"smooth"}),this._resetFocus()}_handleKeyUp(e){"Enter"!==e.key&&"Enter"!==e.code&&"Space"!==e.code&&" "!==e.key||this._handleClick()}_resetFocus(){const e=document.activeElement;e&&e.blur()}}e([s({type:Boolean,attribute:"is-visible",reflect:!0})],n.prototype,"visible",void 0),customElements.define(n.is,n);
//# sourceMappingURL=toujou-topbutton.js.map
