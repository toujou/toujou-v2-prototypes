{"version":3,"file":"toujou-details.js","sources":["../../src/components/toujou-details/toujou-details.styles.ts","../../src/components/toujou-details/toujou-details.ts"],"sourcesContent":["import { css } from 'lit';\n\nexport const ToujouDetailsStyles = css`\n  :host {\n    --toujou-details-border: var(--border-width-normal) solid var(--color-font-light);\n    --toujou-details-border-top: var(--toujou-details-border);\n    --toujou-details-border-bottom: var(--toujou-details-border);\n    \n    --toujou-details-summary-padding: var(--spacing-normal) var(--spacing-s);\n    --toujou-details-summary-gap: 0;\n    --toujou-details-summary-display: grid;\n    --toujou-details-summary-grid-templte-columns: 1fr auto;\n    --toujou-details-summary-grid-templte-areas: \n            \"title chevron\" \n            \"subtitle chevron\";\n\n    --toujou-details-content-padding: var(--spacing-normal) var(--spacing-s);\n    \n    display: block;\n    border-bottom: var(--toujou-details-border-bottom);\n    border-top: var(--toujou-details-border-top);\n  }\n  \n  .details__summary {\n    list-style: none;\n    display: grid;\n    grid-template-columns: 1fr auto;\n    grid-template-areas: var(--toujou-details-summary-grid-templte-areas);\n    grid-gap: var(--toujou-details-summary-gap);\n    align-items: center;\n    padding: var(--toujou-details-summary-padding);\n  }\n  \n  :host(:focus) .details__summary {\n    outline: var(--focus-outline-width) solid var(--focus-outline-color);\n    outline-offset: var(--focus-outline-offset);\n  }\n  \n  .details__summary::-webkit-details-marker {\n    display: none;\n  }\n  \n  .details__content {\n    padding: var(--toujou-details-content-padding);\n  }\n  \n  @media (hover: hover) {\n    .details__summary:hover {\n      --details-title-color: var(--details-title-active-color);\n      --details-chevron-color: var(--details-chevron-active-color);\n      \n      cursor: pointer;\n    }\n  }\n`;\n","import { html, LitElement } from 'lit'\nimport { customElement, property } from 'lit/decorators.js'\n\nimport { ToujouDetailsStyles } from \"./toujou-details.styles.js\";\n\n@customElement('toujou-details')\nexport class ToujouDetails extends LitElement {\n\n    static styles = [ ToujouDetailsStyles ];\n\n    accordionParentTag = 'toujou-details-accordion';\n\n    /**\n     * Is true if the toujou-details element is a child of a toujou-details-accordion element\n     */\n    @property({\n        type: Boolean\n    })\n    isAccordionItem: boolean = false;\n\n    /**\n     * Reference to the <details> element in the shadowRoot\n     */\n    @property({\n        type: HTMLDetailsElement\n    })\n    detailsEl: HTMLDetailsElement | null = null;\n\n    /**\n     * Reflect to the host element, so we can also style elements on the light dom\n     */\n    @property({\n        type: Boolean,\n        reflect: true,\n        attribute: 'is-open'\n    })\n    isOpen: boolean = false;\n\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n        this.isAccordionItem = !!this.closest(this.accordionParentTag);\n\n        if (this.isAccordionItem) {\n            this.dispatchEvent(new CustomEvent('toujou-details-connected', {\n                bubbles: true,\n                composed: true,\n                detail: {\n                    detailsEl: this\n                }\n            }));\n        }\n\n        // Open for printing\n        if (window.matchMedia('print').matches) {\n            this.isOpen = true;\n        }\n    }\n\n    firstUpdated() {\n        this.detailsEl = this.shadowRoot!.querySelector('.details');\n        this.isOpen = this.detailsEl?.hasAttribute('open') || false;\n    }\n\n    render() {\n        return html`\n            <details class=\"details\" ?open=\"${this.isOpen}\" @toggle=\"${this._handleDetailsChange}\">\n                <summary class=\"details__summary\">\n                    <slot name=\"summary\"></slot>\n                    <slot name=\"chevron\"></slot>\n                </summary>\n                <section class=\"details__content\">\n                    <slot name=\"content\"></slot>\n                </section>\n            </details>\n        `\n    }\n\n    /**\n     * Update the isOpen property according to the 'open' attribute on the details element\n     * and dispatch a custom event so other elements can react to the change\n     *\n     * @param event\n     */\n    _handleDetailsChange(event: Event) {\n        const eventTarget = event.target as HTMLDetailsElement;\n        this.isOpen = eventTarget.hasAttribute('open') || false;\n\n        if (this.isAccordionItem) {\n            this.dispatchEvent(new CustomEvent('toujou-details-toggle', {\n                bubbles: true,\n                composed: true,\n                detail: {\n                    detailsEl: this,\n                    state: this.isOpen\n                }\n            }));\n        }\n    }\n}\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'toujou-details': ToujouDetails\n    }\n}\n"],"names":["ToujouDetailsStyles","css","ToujouDetails","LitElement","constructor","this","accordionParentTag","isAccordionItem","detailsEl","isOpen","connectedCallback","super","closest","dispatchEvent","CustomEvent","bubbles","composed","detail","window","matchMedia","matches","firstUpdated","shadowRoot","querySelector","_a","hasAttribute","render","html","_handleDetailsChange","event","eventTarget","target","state","styles","__decorateClass","property","type","Boolean","prototype","HTMLDetailsElement","reflect","attribute","customElement"],"mappings":"sMAEO,MAAMA,EAAsBC,CAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kMCItB,IAAAC,EAAN,cAA4BC,EAgC/B,WAAAC,WA5BqBC,KAAAC,mBAAA,2BAQMD,KAAAE,iBAAA,EAQYF,KAAAG,UAAA,KAUrBH,KAAAI,QAAA,CAIlB,CAEA,iBAAAC,GACIC,MAAMD,oBACNL,KAAKE,kBAAoBF,KAAKO,QAAQP,KAAKC,oBAEvCD,KAAKE,iBACAF,KAAAQ,cAAc,IAAIC,YAAY,2BAA4B,CAC3DC,SAAS,EACTC,UAAU,EACVC,OAAQ,CACJT,UAAWH,SAMnBa,OAAOC,WAAW,SAASC,UAC3Bf,KAAKI,QAAS,EAEtB,CAEA,YAAAY,SACIhB,KAAKG,UAAYH,KAAKiB,WAAYC,cAAc,YAChDlB,KAAKI,QAAS,OAAAe,EAAAnB,KAAKG,gBAAL,EAAAgB,EAAgBC,aAAa,WAAW,CAC1D,CAEA,MAAAC,GACWC,OAAAA,CAAAA;8CAC+BtB,KAAKI,oBAAoBJ,KAAKuB;;;;;;;;;SAUxE,CAQA,oBAAAA,CAAqBC,GACjB,MAAMC,EAAcD,EAAME,OAC1B1B,KAAKI,OAASqB,EAAYL,aAAa,UAAW,EAE9CpB,KAAKE,iBACAF,KAAAQ,cAAc,IAAIC,YAAY,wBAAyB,CACxDC,SAAS,EACTC,UAAU,EACVC,OAAQ,CACJT,UAAWH,KACX2B,MAAO3B,KAAKI,UAI5B,GA/FSP,EAEF+B,OAAS,CAAEjC,GAUlBkC,EAAA,CAHCC,EAAS,CACNC,KAAMC,WAVDnC,EAYToC,UAAA,kBAAA,GAQAJ,EAAA,CAHCC,EAAS,CACNC,KAAMG,sBAlBDrC,EAoBToC,UAAA,YAAA,GAUAJ,EAAA,CALCC,EAAS,CACNC,KAAMC,QACNG,SAAS,EACTC,UAAW,aA5BNvC,EA8BToC,UAAA,SAAA,GA9BSpC,EAANgC,EAAA,CADNQ,EAAc,mBACFxC"}