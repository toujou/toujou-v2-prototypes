{"version":3,"file":"video-autoplay.js","sources":["../../src/js/elements/video-autoplay.ts"],"sourcesContent":["/**\n * Initializes autoplay or control behavior for videos with the `data-is-autoplay=\"1\"` attribute,\n * based on the user's `prefers-reduced-motion` setting.\n */\nfunction initAutoplayVideos(): void {\n    const isReduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n    const videos: NodeListOf<HTMLVideoElement> = document.querySelectorAll('video[data-is-autoplay=\"1\"]');\n\n    videos.forEach((video: HTMLVideoElement) => {\n        if (!isReduceMotion) {\n            video.setAttribute('autoplay', '');\n            video.play().then(() => {});\n        } else {\n            video.setAttribute('controls', '');\n        }\n    });\n}\n\n/**\n * Runs `initAutoplayVideos` once the DOM is fully loaded.\n * If the document is already ready, runs it immediately.\n */\nif (document.readyState !== 'loading') {\n    setTimeout(() => {\n        initAutoplayVideos();\n    });\n} else {\n    document.addEventListener('DOMContentLoaded', () => {\n        initAutoplayVideos();\n    });\n}\n"],"names":["initAutoplayVideos","isReduceMotion","window","matchMedia","matches","document","querySelectorAll","forEach","video","setAttribute","play","then","readyState","setTimeout","addEventListener"],"mappings":"AAIA,SAASA,IACL,MAAMC,EAAiBC,OAAOC,WAAW,oCAAoCC,QAChCC,SAASC,iBAAiB,+BAEhEC,SAASC,IACPP,EAIKO,EAAAC,aAAa,WAAY,KAHzBD,EAAAC,aAAa,WAAY,IACzBD,EAAAE,OAAOC,MAAK,SAGtB,GAER,CAM4B,YAAxBN,SAASO,WACTC,YAAW,YAIFR,SAAAS,iBAAiB,oBAAoB"}