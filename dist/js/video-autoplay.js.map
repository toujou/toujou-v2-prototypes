{"version":3,"file":"video-autoplay.js","sources":["../../src/js/elements/video-autoplay.ts"],"sourcesContent":["/**\n * Initializes autoplay or control behavior for videos with the `data-is-autoplay=\"1\"` attribute,\n * based on the user's `prefers-reduced-motion` setting.\n */\nfunction initAutoplayVideos(): void {\n    const isReduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n    const videos: NodeListOf<HTMLVideoElement> = document.querySelectorAll('video[data-is-autoplay=\"1\"]');\n    console.log('11', videos, isReduceMotion);\n\n    videos.forEach((video: HTMLVideoElement) => {\n        if (!isReduceMotion) {\n            video.setAttribute('autoplay', '');\n        } else {\n            video.setAttribute('controls', '');\n        }\n    });\n}\n\n/**\n * Runs `initAutoplayVideos` once the DOM is fully loaded.\n * If the document is already ready, runs it immediately.\n */\nif (document.readyState !== 'loading') {\n    setTimeout(() => {\n        initAutoplayVideos();\n    });\n} else {\n    document.addEventListener('DOMContentLoaded', () => {\n        initAutoplayVideos();\n    });\n}\n"],"names":["initAutoplayVideos","isReduceMotion","window","matchMedia","matches","videos","document","querySelectorAll","console","log","forEach","video","setAttribute","readyState","setTimeout","addEventListener"],"mappings":"AAIA,SAASA,IACL,MAAMC,EAAiBC,OAAOC,WAAW,oCAAoCC,QACvEC,EAAuCC,SAASC,iBAAiB,+BAC/DC,QAAAC,IAAI,KAAMJ,EAAQJ,GAEnBI,EAAAK,SAASC,IACPV,EAGKU,EAAAC,aAAa,WAAY,IAFzBD,EAAAC,aAAa,WAAY,GAGnC,GAER,CAM4B,YAAxBN,SAASO,WACTC,YAAW,YAIFR,SAAAS,iBAAiB,oBAAoB"}