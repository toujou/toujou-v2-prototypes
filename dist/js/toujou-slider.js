import{s as e}from"./lit-element-CHDbfp5U.js";import{e as t}from"./custom-element-DPYutfhb.js";import{n as i}from"./property-BjK_DIN0.js";import{t as r}from"./state-CplovN88.js";import"./query-assigned-elements-DqqHV3QO.js";import{S as s}from"./splide.esm-wa_TeE-T.js";var l=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=(e,t,i,r)=>{for(var s,o=r>1?void 0:r?a(t,i):t,n=e.length-1;n>=0;n--)(s=e[n])&&(o=(r?s(t,i,o):s(o))||o);return r&&o&&l(t,i,o),o};let n=class extends e{constructor(){super(),this.splideContainer=null,this.showCount=!1,this.autoplay=!1,this._currentIndexCountElement=null,this._totalSlidesCountElement=null,this._numberOfSlides=0,this._activeSlideIndex=1,this.slidesToShow=1,this.slidesPerMove=1,this.sliderType="loop",this.sliderGap="0",this.autoplayInterval="6000",this.sliderBreakpoints=null,this.sliderPadding="0",this.sliderFocusCenter=!1,this.sliderAspectRatio="0.5625",this.sliderClonesAmount=null,this.arrowPrevAriaLabel="",this.arrowNextAriaLabel="",this.arrowFirstAriaLabel="",this.arrowLastAriaLabel="",this.bulletsListAriaLabel="",this.singleBulletAriaLabel="",this.sliderMediaQuery="max",this._handlePaginationUpdate=this._handlePaginationUpdate.bind(this),this._handleSliderMount=this._handleSliderMount.bind(this)}createRenderRoot(){return this}firstUpdated(){this.splideContainer=this.querySelector(".splide")||null,this.splideContainer?this._initSlider():console.error("TOUJOU: Could not get necessary elements to initialize the slider")}_buildI18nOptions(){const e={};return this.arrowPrevAriaLabel&&(e.prev=this.arrowPrevAriaLabel),this.arrowNextAriaLabel&&(e.next=this.arrowNextAriaLabel),this.arrowFirstAriaLabel&&(e.first=this.arrowFirstAriaLabel),this.arrowLastAriaLabel&&(e.last=this.arrowLastAriaLabel),this.bulletsListAriaLabel&&(e.select=this.bulletsListAriaLabel),this.singleBulletAriaLabel&&(e.slideX=`${this.singleBulletAriaLabel} %s`),Object.keys(e).length?e:void 0}_initSlider(){let e={classes:{pagination:"splide__pagination slider-bullets",page:"splide__pagination__page slider-bullets__bullet"},type:this.sliderType,autoplay:this.autoplay,interval:this.autoplayInterval,pauseOnHover:this.autoplay,pauseOnFocus:this.autoplay,perPage:parseInt(String(this.slidesToShow)),perMove:this.slidesPerMove,gap:this.sliderGap,heightRatio:this.sliderAspectRatio,mediaQuery:this.sliderMediaQuery,reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"},padding:this.sliderPadding,i18n:this._buildI18nOptions(),focusableNodes:"*",breakpoints:void 0};if("true"===this.sliderFocusCenter&&(e.focus="center",e.trimSpace=!1),this.sliderBreakpoints)try{e.breakpoints=JSON.parse(this.sliderBreakpoints)}catch(t){console.error("Error parsing slider breakpoints JSON:",t,"\n","Received breakpoints JSON:","\n",this.sliderBreakpoints)}this.sliderClonesAmount&&(e.clones=this.sliderClonesAmount),this.splideSlider=new s(this.splideContainer,e),this.splideSlider.on("mounted",this._handleSliderMount),this.splideSlider.on("moved",this._handlePaginationUpdate),this.splideSlider.mount()}_handleSliderMount(){this._getCountInfo(),this._initCount(),this._removeSlidesTabpanelRole(),this._addAriaLabelToSliderContainer(),this.dispatchEvent(new CustomEvent("toujou-slider-mounted",{bubbles:!0,composed:!0,detail:{el:this.splideSlider}}))}_removeSlidesTabpanelRole(){const e=this.splideSlider.root.querySelectorAll('*[role="tabpanel"]');e&&e.forEach((e=>{e.removeAttribute("role"),e.removeAttribute("aria-label")}))}_addAriaLabelToSliderContainer(){var e,t;const i=null==(e=this.splideContainer)?void 0:e.id;null==(t=this.splideContainer)||t.setAttribute("aria-label",`Slider - ${i}`)}_getCountInfo(){this._currentIndexCountElement=this.querySelector(".slider-count__current"),this._totalSlidesCountElement=this.querySelector(".slider-count__total")}_initCount(){this._numberOfSlides=this.splideSlider.Components.Elements.slides.length,this._updateSliderCount()}_handlePaginationUpdate(e){this._activeSlideIndex=e+1,this._updateSliderCount(),this.dispatchEvent(new CustomEvent("toujou-slider-moved",{bubbles:!0,composed:!0,detail:{el:this.splideSlider,activeIndex:this._activeSlideIndex}}))}_updateSliderCount(){this._currentIndexCountElement&&(this._currentIndexCountElement.textContent=String(this._activeSlideIndex)),this._totalSlidesCountElement&&(this._totalSlidesCountElement.textContent=String(this._numberOfSlides))}};o([i({type:Object})],n.prototype,"splideContainer",2),o([i({type:Boolean,attribute:"show-count"})],n.prototype,"showCount",2),o([i({type:Boolean,attribute:"auto-play"})],n.prototype,"autoplay",2),o([i()],n.prototype,"_currentIndexCountElement",2),o([i()],n.prototype,"_totalSlidesCountElement",2),o([r()],n.prototype,"_numberOfSlides",2),o([r()],n.prototype,"_activeSlideIndex",2),o([i()],n.prototype,"splideSlider",2),o([i({reflect:!0,attribute:"slides-to-show"})],n.prototype,"slidesToShow",2),o([i({reflect:!0,attribute:"slides-per-move"})],n.prototype,"slidesPerMove",2),o([i({reflect:!0,attribute:"slider-type"})],n.prototype,"sliderType",2),o([i({reflect:!0,attribute:"slider-gap"})],n.prototype,"sliderGap",2),o([i({reflect:!0,attribute:"auto-play-interval"})],n.prototype,"autoplayInterval",2),o([i({reflect:!0,attribute:"slider-breakpoints"})],n.prototype,"sliderBreakpoints",2),o([i({reflect:!0,attribute:"slider-padding"})],n.prototype,"sliderPadding",2),o([i({reflect:!0,attribute:"slider-focus-center"})],n.prototype,"sliderFocusCenter",2),o([i({reflect:!0,attribute:"slider-aspect-ratio"})],n.prototype,"sliderAspectRatio",2),o([i({reflect:!0,attribute:"slider-clones-amount"})],n.prototype,"sliderClonesAmount",2),o([i({attribute:"arrow-prev-aria-label"})],n.prototype,"arrowPrevAriaLabel",2),o([i({attribute:"arrow-next-aria-label"})],n.prototype,"arrowNextAriaLabel",2),o([i({attribute:"arrow-first-aria-label"})],n.prototype,"arrowFirstAriaLabel",2),o([i({attribute:"arrow-last-aria-label"})],n.prototype,"arrowLastAriaLabel",2),o([i({attribute:"bullets-list-aria-label"})],n.prototype,"bulletsListAriaLabel",2),o([i({attribute:"single-bullet-aria-label"})],n.prototype,"singleBulletAriaLabel",2),o([i({reflect:!0,attribute:"slider-media-query"})],n.prototype,"sliderMediaQuery",2),n=o([t("toujou-slider")],n);
//# sourceMappingURL=toujou-slider.js.map
