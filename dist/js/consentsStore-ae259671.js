import{c as f,a as g}from"./redux-2eeb5354.js";const i={setItem(e,s){document.cookie=`${e}=${s};path=/;`},getItem(e){const s=`${e}=`,n=document.cookie.split(";");for(let t=0,_=n.length;t<_;t++){let o=n[t];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(s)===0)return o.substring(s.length,o.length)}return null}},c=(e,s,n)=>{try{const t=JSON.stringify(e);s.setItem(n,t);return}catch(t){console.error(`There was an error while saving the consents data to storage: Error: ${t}`)}},r=(e,s)=>{try{const n=e.getItem(s);return n===null?{}:JSON.parse(n)}catch(n){return console.error(`There was a problem loading the consents data from storage. Error: ${n}`),{}}},m=()=>{const e=r(i,"consentsState"),s=r(localStorage,"consentsState"),n={};return n.consents={...e.consents,...s.consents},n},p=e=>{const s={},n={};for(const t in e)t==="consentBoxDismissed"?n[t]=e[t]:t==="tracking"&&e[t].consentLifetime===0?s[t]=e[t]:t==="tracking"&&e[t].consentLifetime>0?n[t]=e[t]:e[t].consentLifetime===0?s[t]=e[t]:e[t].consentLifetime>0&&(n[t]=e[t]);c({consents:s},i,"consentsState"),c({consents:n},localStorage,"consentsState")},N=e=>{for(const s in e){if(s!=="consents"){console.error('Unknown data "key" found while saving to session / local Storage');return}p(e.consents)}},S="CLEAR_CONSENT_TYPE_DATA",l="SAVE_ALL_CONSENTS",d="SAVE_SINGLE_CONSENT",u="DISMISS_CONSENT_BOX",E="UNDISMISS_CONSENT_BOX",T={consents:{consentBoxDismissed:!1}},L=e=>({type:S,payload:e}),w=e=>({type:l,payload:e}),I=(e,s)=>({type:d,payload:{consentType:e,consentData:s}}),A=()=>({type:u}),D=()=>({type:E});function O(e,s){switch(s.type){case S:{const n={...e.consents};return delete n[s.payload],{...e,consents:n}}case l:{const n={...e.consents,...s.payload};return{...e,consents:n}}case d:{const n={...e.consents};return n[s.payload.consentType]={...s.payload.consentData},{...e,consents:n}}case u:{const n={...e.consents};return n.consentBoxDismissed=!0,{...e,consents:n}}case E:{const n={...e.consents};return n.consentBoxDismissed=!1,{...e,consents:n}}}return e}let a=!1;function C(e=T,s){const n=O(e,s);return N(n),typeof window.dataLayer=="object"&&(!a||n.consents.consentBoxDismissed!==void 0&&n.consents.consentBoxDismissed)&&(window.dataLayer.push({event:"consent-changed",...n.consents}),a=!0),n}function h(){const s=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||f)(),n=m();return g(C,n,s)}const x=h();export{w as a,L as b,x as c,A as d,I as s,D as u};
//# sourceMappingURL=consentsStore-ae259671.js.map
