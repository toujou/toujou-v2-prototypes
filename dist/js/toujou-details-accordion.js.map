{"version":3,"file":"toujou-details-accordion.js","sources":["../../src/components/toujou-details-accordion/toujou-details-accordion.ts"],"sourcesContent":["import { LitElement } from 'lit'\nimport { customElement, property } from 'lit/decorators.js'\nimport { ToujouDetails } from \"../toujou-details/toujou-details\";\n\n@customElement('toujou-details-accordion')\nexport class ToujouDetailsAccordion extends LitElement {\n\n    /**\n     * Backend option, allow only on child <toujou-details> element to be open at a time\n     */\n    @property({\n        type: Boolean,\n        attribute: \"single-expand-mode\"\n    })\n    singleExpandMode: boolean = false;\n\n    /**\n     * List of all the child <toujou-details> elements\n     */\n    @property({\n        type: Array\n    })\n    toujouDetailsElements: ToujouDetails[] = [];\n\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        this.addEventListener('toujou-details-connected', this._handleDetailsConnected);\n        this.addEventListener('toujou-details-toggle', this._handleDetailsToggle);\n\n        this.dispatchEvent(new CustomEvent('toujou-details-accordion-connected', {\n            bubbles: true,\n            composed: true,\n            detail: {\n                accordionEl: this\n            }\n        }));\n    }\n\n    disconnectedCallback() {\n        this.removeEventListener('toujou-details-connected', this._handleDetailsConnected);\n        this.removeEventListener('toujou-details-toggle', this._handleDetailsToggle);\n    }\n\n    _handleDetailsConnected(event: Event): void {\n        this.toujouDetailsElements.push((<any>event).detail.detailsEl);\n    }\n\n    /**\n     * If we are on single-expand-mode, we must close all other <toujou-details> when a new one opens\n     *\n     * @param event\n     */\n    _handleDetailsToggle(event: Event) {\n        if (!this.singleExpandMode || !((<any>event).detail.state)) return;\n\n        const currentDetailsId = (<any>event).detail.detailsEl.id;\n        this.toujouDetailsElements.forEach((detailsEl) => {\n            if (detailsEl.id === currentDetailsId) return;\n            detailsEl.isOpen = false;\n        })\n    }\n}\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'toujou-details-accordion': ToujouDetailsAccordion\n    }\n}\n\n"],"names":["LitElement","property","customElement"],"mappings":"mVAKO,GAAA,GAAA,aAAqCA,EAAW,CAmBnD,aAAc,CACJ,QAXkB,KAAA,iBAAA,GAQ5B,KAAA,sBAAyC,EAIzC,CAEA,mBAAoB,CACX,KAAA,iBAAiB,2BAA4B,KAAK,uBAAuB,EACzE,KAAA,iBAAiB,wBAAyB,KAAK,oBAAoB,EAEnE,KAAA,cAAc,GAAI,aAAY,qCAAsC,CACrE,QAAS,GACT,SAAU,GACV,OAAQ,CACJ,YAAa,IACjB,CACH,CAAA,CAAC,CACN,CAEA,sBAAuB,CACd,KAAA,oBAAoB,2BAA4B,KAAK,uBAAuB,EAC5E,KAAA,oBAAoB,wBAAyB,KAAK,oBAAoB,CAC/E,CAEA,wBAAwB,EAAoB,CACxC,KAAK,sBAAsB,KAAW,EAAO,OAAO,SAAS,CACjE,CAOA,qBAAqB,EAAc,CAC/B,GAAI,CAAC,KAAK,kBAAoB,CAAQ,EAAO,OAAO,MAAQ,OAEtD,KAAA,GAAyB,EAAO,OAAO,UAAU,GAClD,KAAA,sBAAsB,QAAQ,AAAC,GAAc,CAC9C,AAAI,EAAU,KAAO,GACrB,GAAU,OAAS,GAAA,CACtB,CACL,CACJ,EAlDI,EAAA,CAJAC,EAAU,CACN,KAAM,QACN,UAAW,oBAAA,CACd,CAAA,EACD,EAAA,UAAA,mBAAA,CAAA,EAQA,EAAA,CAHAA,EAAU,CACN,KAAM,KAAA,CACT,CAAA,EACD,EAAA,UAAA,wBAAA,CAAA,EAjBG,EAAA,EAAA,CADNC,EAAc,0BAA0B,CAAA,EAClC,CAAA"}