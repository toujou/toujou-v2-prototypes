{"version":3,"file":"toujou-counter.js","sources":["../../node_modules/@toujou/toujou-counter/lib/index.js"],"sourcesContent":["import{LitElement as t}from\"lit\";const e=.75,n=1,i=3e3,r=\"medium\",a=\"de-DE\",s=\"toujou-counter-init\",o=\"toujou-counter-animation-start\",u=\"toujou-counter-animation-end\";class m extends t{constructor(){super(...arguments),this._frameDuration=1e3/60,this._observer=new IntersectionObserver(((t,n)=>{t.forEach((t=>{t.isIntersecting&&t.intersectionRatio>=e&&(this._dispatchCounterEvent(o),this._animate(),n.unobserve(this))}))}),{threshold:n}),this._init=()=>{this._startNumberVal=parseFloat(this.startNumber),this._endNumberVal=parseFloat(this.endNumber),this._animationDuration=this._getAnimationDuration(),this._totalFrames=Math.round(this._animationDuration/this._frameDuration),this._pageLang=document.documentElement.getAttribute(\"lang\")||a,this._observer.observe(this._numberEl),this._dispatchCounterEvent(s)},this._animate=()=>{let t=0;const e=()=>{t++;const n=(i=t/this._totalFrames)*(2-i);var i;const r=this._endNumberVal>=this._startNumberVal?Math.round(this._startNumberVal+(this._endNumberVal-this._startNumberVal)*n):Math.round(this._startNumberVal-(this._startNumberVal-this._endNumberVal)*n);parseFloat(this._numberEl.textContent.replace(/,/g,\"\"))!==r&&(this._numberEl.textContent=new Intl.NumberFormat(this._pageLang).format(r)),t<this._totalFrames?requestAnimationFrame(e):(this._numberEl.textContent=new Intl.NumberFormat(this._pageLang).format(this._endNumberVal),this._dispatchCounterEvent(u))};requestAnimationFrame(e)},this._getAnimationDuration=()=>{this._animationSpeedVarName=`--counter-animation-duration-${this.animationSpeed?this.animationSpeed:r}`;const t=getComputedStyle(this);let e=parseInt(t.getPropertyValue(`${this._animationSpeedVarName}`));return e||(console.warn(\"TOUJOU: could not get the counter animation duration variable. Using fallback value\",this),e=i),e},this._dispatchCounterEvent=t=>{this.dispatchEvent(new CustomEvent(t,{bubbles:!0,composed:!0,detail:{counter:this}}))}}static get is(){return\"toujou-counter\"}createRenderRoot(){return this}firstUpdated(t){super.firstUpdated(t),this.startNumber&&this.endNumber?(this._numberEl=this.querySelector(\".counter__number-text\"),this._numberEl?(this.animationSpeed||console.warn(\"TOUJOU: could not get the counter animation speed. Using default value!\",this),window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches?this._numberEl.textContent=this.endNumber:this._init()):console.error(\"TOUJOU: could not get the counter number element!\",this)):console.error(\"TOUJOU: could not get start and end values for the counter animation!\",this)}}m.properties={startNumber:{type:String,attribute:\"start-number\"},endNumber:{type:String,attribute:\"end-number\"},animationSpeed:{type:String,attribute:\"animation-speed\"}},customElements.define(m.is,m);//# sourceMappingURL=index.js.map\n"],"names":["e","n","i","r","a","s","o","u","m","t"],"mappings":"yCAAiC,MAAMA,EAAE,IAAIC,EAAE,EAAEC,EAAE,IAAIC,EAAE,SAASC,EAAE,QAAQC,EAAE,sBAAsBC,EAAE,iCAAiCC,EAAE,+BAA+B,MAAMC,UAAUC,CAAC,CAAC,aAAa,CAAC,MAAM,GAAG,SAAS,EAAE,KAAK,eAAe,IAAI,GAAG,KAAK,UAAU,IAAI,qBAAsB,CAAC,EAAER,IAAI,CAAC,EAAE,QAASQ,GAAG,CAACA,EAAE,gBAAgBA,EAAE,mBAAmBT,IAAI,KAAK,sBAAsBM,CAAC,EAAE,KAAK,SAAU,EAACL,EAAE,UAAU,IAAI,EAAE,CAAG,CAAA,EAAG,CAAC,UAAUA,CAAC,CAAC,EAAE,KAAK,MAAM,IAAI,CAAC,KAAK,gBAAgB,WAAW,KAAK,WAAW,EAAE,KAAK,cAAc,WAAW,KAAK,SAAS,EAAE,KAAK,mBAAmB,KAAK,sBAAuB,EAAC,KAAK,aAAa,KAAK,MAAM,KAAK,mBAAmB,KAAK,cAAc,EAAE,KAAK,UAAU,SAAS,gBAAgB,aAAa,MAAM,GAAGG,EAAE,KAAK,UAAU,QAAQ,KAAK,SAAS,EAAE,KAAK,sBAAsBC,CAAC,CAAC,EAAE,KAAK,SAAS,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,MAAM,GAAGH,EAAE,EAAE,KAAK,eAAe,EAAEA,GAAG,IAAIA,EAAE,MAAMC,EAAE,KAAK,eAAe,KAAK,gBAAgB,KAAK,MAAM,KAAK,iBAAiB,KAAK,cAAc,KAAK,iBAAiB,CAAC,EAAE,KAAK,MAAM,KAAK,iBAAiB,KAAK,gBAAgB,KAAK,eAAe,CAAC,EAAE,WAAW,KAAK,UAAU,YAAY,QAAQ,KAAK,EAAE,CAAC,IAAIA,IAAI,KAAK,UAAU,YAAY,IAAI,KAAK,aAAa,KAAK,SAAS,EAAE,OAAOA,CAAC,GAAG,EAAE,KAAK,aAAa,sBAAsB,CAAC,GAAG,KAAK,UAAU,YAAY,IAAI,KAAK,aAAa,KAAK,SAAS,EAAE,OAAO,KAAK,aAAa,EAAE,KAAK,sBAAsBI,CAAC,EAAE,EAAE,sBAAsB,CAAC,CAAC,EAAE,KAAK,sBAAsB,IAAI,CAAC,KAAK,uBAAuB,gCAAgC,KAAK,eAAe,KAAK,eAAeJ,IAAI,MAAM,EAAE,iBAAiB,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,iBAAiB,GAAG,KAAK,wBAAwB,CAAC,EAAE,OAAO,IAAI,QAAQ,KAAK,sFAAsF,IAAI,EAAE,EAAED,GAAG,CAAC,EAAE,KAAK,sBAAsB,GAAG,CAAC,KAAK,cAAc,IAAI,YAAY,EAAE,CAAC,QAAQ,GAAG,SAAS,GAAG,OAAO,CAAC,QAAQ,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,CAAC,MAAM,gBAAgB,CAAC,kBAAkB,CAAC,OAAO,IAAI,CAAC,aAAa,EAAE,CAAC,MAAM,aAAa,CAAC,EAAE,KAAK,aAAa,KAAK,WAAW,KAAK,UAAU,KAAK,cAAc,uBAAuB,EAAE,KAAK,WAAW,KAAK,gBAAgB,QAAQ,KAAK,0EAA0E,IAAI,EAAE,OAAO,WAAW,kCAAkC,EAAE,QAAQ,KAAK,UAAU,YAAY,KAAK,UAAU,KAAK,MAAO,GAAE,QAAQ,MAAM,oDAAoD,IAAI,GAAG,QAAQ,MAAM,wEAAwE,IAAI,CAAC,CAAC,CAACM,EAAE,WAAW,CAAC,YAAY,CAAC,KAAK,OAAO,UAAU,cAAc,EAAE,UAAU,CAAC,KAAK,OAAO,UAAU,YAAY,EAAE,eAAe,CAAC,KAAK,OAAO,UAAU,iBAAiB,CAAC,EAAE,eAAe,OAAOA,EAAE,GAAGA,CAAC"}