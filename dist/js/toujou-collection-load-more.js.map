{"version":3,"file":"toujou-collection-load-more.js","sources":["../../node_modules/@toujou/toujou-collection-load-more/lib/index.js"],"sourcesContent":["import{__decorate as e}from\"tslib\";import{css as t,LitElement as o,html as i}from\"lit\";import{property as n}from\"lit/decorators.js\";var r,s,l,c=t(r||(s=[\":host {\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n}\\n\"],l||(l=s.slice(0)),r=Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(l)}}))));class a extends o{constructor(){super(...arguments),this.isLoading=!1,this.itemsContainerSelector=\"\"}static get is(){return\"toujou-collection-load-more\"}render(){return this.isLoading?i`<slot name=\"spinner\"></slot>`:i`<slot @click=\"${this._handleLoadMoreClick}\"></slot>`}_handleLoadMoreClick(e){e.preventDefault();const t=e.target;if(null===t)return;const o=t.getAttribute(\"href\");if(null===o||\"\"===o)throw\"Missing or empty href on toujou-collection-load-more link\";const i=new URL(o,document.baseURI).href;this.isLoading=!0,fetch(i).then((e=>e.text())).then((e=>{const t=document.createElement(\"div\");return t.innerHTML=e,t})).then((e=>{const t=[].slice.call(e.querySelector(this.itemsContainerSelector).children),o=e.querySelector(a.is);this.parentNode.querySelector(this.itemsContainerSelector).append(...t),o?this.replaceWith(o):this.remove()})).catch((e=>{window.dispatchEvent(new CustomEvent(\"toujou-collection-load-more-error\",{bubbles:!0,composed:!0,detail:e}))})).finally((()=>{this.isLoading=!1,window.dispatchEvent(new CustomEvent(\"toujou-collection-load-more-done\",{bubbles:!0,composed:!0}))}))}}a.styles=[c],e([n({type:Boolean,reflect:!0,attribute:\"is-loading\"})],a.prototype,\"isLoading\",void 0),e([n({type:String,attribute:\"items-container-selector\"})],a.prototype,\"itemsContainerSelector\",void 0),customElements.define(a.is,a);export{a as ToujouCollectionLoadMore};//# sourceMappingURL=index.js.map\n"],"names":["r","s","l","c","t","slice","Object","freeze","defineProperties","raw","value","a","o","constructor","super","arguments","this","isLoading","itemsContainerSelector","is","render","i","_handleLoadMoreClick","e","preventDefault","target","getAttribute","URL","document","baseURI","href","fetch","then","text","createElement","innerHTML","call","querySelector","children","parentNode","append","replaceWith","remove","catch","window","dispatchEvent","CustomEvent","bubbles","composed","detail","finally","styles","n","type","Boolean","reflect","attribute","prototype","String","customElements","define"],"mappings":"iMAAoI,IAAIA,EAAEC,EAAEC,EAAEC,EAAEC,EAAEJ,IAAIC,EAAE,CAAC,+LAA+LC,IAAIA,EAAED,EAAEI,MAAM,IAAIL,EAAEM,OAAOC,OAAOD,OAAOE,iBAAiBP,EAAE,CAACQ,IAAI,CAACC,MAAMJ,OAAOC,OAAOL,SAAS,MAAMS,UAAUC,EAAE,WAAAC,GAAcC,SAASC,WAAWC,KAAKC,WAAU,EAAGD,KAAKE,uBAAuB,EAAE,CAAC,aAAWC,GAAW,MAAA,6BAA6B,CAAC,MAAAC,GAAS,OAAOJ,KAAKC,UAAUI,CAAgCA,+BAAAA,CAAAA,iBAAkBL,KAAKM,+BAA+B,CAAC,oBAAAA,CAAqBC,GAAGA,EAAEC,iBAAiB,MAAMpB,EAAEmB,EAAEE,OAAO,GAAG,OAAOrB,EAAE,OAAa,MAAAQ,EAAER,EAAEsB,aAAa,QAAQ,GAAG,OAAOd,GAAG,KAAKA,EAAO,KAAA,4DAA4D,MAAMS,EAAE,IAAIM,IAAIf,EAAEgB,SAASC,SAASC,KAAKd,KAAKC,WAAU,EAAGc,MAAMV,GAAGW,MAAMT,GAAGA,EAAEU,SAASD,MAAMT,IAAUnB,MAAAA,EAAEwB,SAASM,cAAc,OAAc9B,OAAAA,EAAE+B,UAAUZ,EAAEnB,CAAAA,IAAK4B,MAAMT,IAAI,MAAMnB,EAAE,GAAGC,MAAM+B,KAAKb,EAAEc,cAAcrB,KAAKE,wBAAwBoB,UAAU1B,EAAEW,EAAEc,cAAc1B,EAAEQ,IAAIH,KAAKuB,WAAWF,cAAcrB,KAAKE,wBAAwBsB,UAAUpC,GAAGQ,EAAEI,KAAKyB,YAAY7B,GAAGI,KAAK0B,QAAQ,IAAIC,OAAOpB,IAAIqB,OAAOC,cAAc,IAAIC,YAAY,oCAAoC,CAACC,SAAQ,EAAGC,UAAS,EAAGC,OAAO1B,IAAG,IAAK2B,SAAS,KAAKlC,KAAKC,WAAU,EAAG2B,OAAOC,cAAc,IAAIC,YAAY,mCAAmC,CAACC,SAAQ,EAAGC,UAAS,IAAI,GAAI,EAAErC,EAAEwC,OAAO,CAAChD,GAAGoB,EAAE,CAAC6B,EAAE,CAACC,KAAKC,QAAQC,SAAQ,EAAGC,UAAU,gBAAgB7C,EAAE8C,UAAU,iBAAY,GAAQlC,EAAE,CAAC6B,EAAE,CAACC,KAAKK,OAAOF,UAAU,8BAA8B7C,EAAE8C,UAAU,8BAAyB,GAAQE,eAAeC,OAAOjD,EAAEQ,GAAGR","x_google_ignoreList":[0]}