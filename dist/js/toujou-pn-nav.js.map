{"version":3,"file":"toujou-pn-nav.js","sources":["../../src/components/toujou-pn-nav/toujou-pn-nav.ts"],"sourcesContent":["export class ToujouPnNav extends HTMLElement {\n    private links: NodeListOf<HTMLElement> | undefined;\n\n    constructor() {\n        super();\n\n        this._onLinkClick = this._onLinkClick.bind(this);\n    }\n\n    protected createRenderRoot(): HTMLElement | DocumentFragment {\n        return this;\n    }\n\n    connectedCallback() {\n        this.links = this.querySelectorAll('.pn-nav__link');\n        if (!this.links) {\n            console.error('TOUJOU: Could not get the prev-nav links');\n            return;\n        }\n\n        this.links.forEach((link) => {\n            link.addEventListener('click', this._onLinkClick);\n        });\n    }\n\n    disconnectedCallback() {\n        if (this.links) {\n            this.links.forEach((link) => {\n                link.removeEventListener('click', this._onLinkClick);\n            });\n        }\n    }\n\n    _onLinkClick = (event: MouseEvent) => {\n        event.preventDefault();\n\n        const link = event.currentTarget as HTMLElement;\n        const targetUrl = link.getAttribute('href');\n        if (!targetUrl) {\n            console.error('TOUJOU: Could not get the target URL from the link', link);\n            return;\n        }\n\n        if (document.startViewTransition) {\n            document.startViewTransition(() => {\n                window.location.href = targetUrl;\n            });\n        } else {\n            window.location.href = targetUrl;\n        }\n    }\n}\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'toujou-pn-nav': ToujouPnNav\n    }\n}\n\ncustomElements.define('toujou-pn-nav', ToujouPnNav);\n"],"names":["ToujouPnNav","HTMLElement","constructor","this","_onLinkClick","event","preventDefault","link","currentTarget","targetUrl","getAttribute","document","startViewTransition","window","location","href","console","error","bind","createRenderRoot","connectedCallback","links","querySelectorAll","forEach","addEventListener","disconnectedCallback","removeEventListener","customElements","define"],"mappings":"AAAO,MAAMA,UAAoBC,YAG7B,WAAAC,WA8BAC,KAAAC,aAAgBC,IACZA,EAAMC,iBAEN,MAAMC,EAAOF,EAAMG,cACbC,EAAYF,EAAKG,aAAa,QAC/BD,EAKDE,SAASC,oBACTD,SAASC,qBAAoB,KACzBC,OAAOC,SAASC,KAAON,CAAA,IAG3BI,OAAOC,SAASC,KAAON,EATfO,QAAAC,MAAM,qDAAsDV,EAUxE,EA3CAJ,KAAKC,aAAeD,KAAKC,aAAac,KAAKf,KAC/C,CAEU,gBAAAgB,GACC,OAAAhB,IACX,CAEA,iBAAAiB,GACSjB,KAAAkB,MAAQlB,KAAKmB,iBAAiB,iBAC9BnB,KAAKkB,MAKLlB,KAAAkB,MAAME,SAAShB,IACXA,EAAAiB,iBAAiB,QAASrB,KAAKC,aAAY,IALhDY,QAAQC,MAAM,2CAOtB,CAEA,oBAAAQ,GACQtB,KAAKkB,OACAlB,KAAAkB,MAAME,SAAShB,IACXA,EAAAmB,oBAAoB,QAASvB,KAAKC,aAAY,GAG/D,EA4BJuB,eAAeC,OAAO,gBAAiB5B"}