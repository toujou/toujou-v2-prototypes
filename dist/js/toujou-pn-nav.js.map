{"version":3,"file":"toujou-pn-nav.js","sources":["../../src/components/toujou-pn-nav/toujou-pn-nav.ts"],"sourcesContent":["export class ToujouPnNav extends HTMLElement {\n    private links: NodeListOf<HTMLElement> | undefined;\n\n    constructor() {\n        super();\n\n        this._onLinkClick = this._onLinkClick.bind(this);\n        console.log('constructor');\n    }\n\n    protected createRenderRoot(): HTMLElement | DocumentFragment {\n        return this;\n    }\n\n    connectedCallback() {\n        this.links = this.querySelectorAll('.pn-nav__link');\n        console.log('links', this.links);\n        if (!this.links) {\n            console.error('TOUJOU: Could not get the prev-nav links');\n            return;\n        }\n\n        this.links.forEach((link) => {\n            console.log('link', link);\n            link.addEventListener('click', this._onLinkClick);\n        });\n    }\n\n    disconnectedCallback() {\n        if (this.links) {\n            this.links.forEach((link) => {\n                link.removeEventListener('click', this._onLinkClick);\n            });\n        }\n    }\n\n    _onLinkClick = (event: MouseEvent) => {\n        console.log('click');\n        event.preventDefault();\n\n        const link = event.currentTarget as HTMLElement;\n        const targetUrl = link.getAttribute('href');\n        console.log('targetUrl', targetUrl);\n        if (!targetUrl) {\n            console.error('TOUJOU: Could not get the target URL from the link', link);\n            return;\n        }\n\n        if (document.startViewTransition) {\n            document.startViewTransition(() => {\n                console.log('starting transition...');\n                window.location.href = targetUrl;\n            });\n        } else {\n            console.log('transitions not supported...');\n            window.location.href = targetUrl;\n        }\n    }\n}\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'toujou-pn-nav': ToujouPnNav\n    }\n}\n\ncustomElements.define('toujou-pn-nav', ToujouPnNav);\n"],"names":["ToujouPnNav","HTMLElement","constructor","this","_onLinkClick","event","console","log","preventDefault","link","currentTarget","targetUrl","getAttribute","document","startViewTransition","window","location","href","error","bind","createRenderRoot","connectedCallback","links","querySelectorAll","forEach","addEventListener","disconnectedCallback","removeEventListener","customElements","define"],"mappings":"AAAO,MAAMA,UAAoBC,YAG7B,WAAAC,WAiCAC,KAAAC,aAAgBC,IACZC,QAAQC,IAAI,SACZF,EAAMG,iBAEN,MAAMC,EAAOJ,EAAMK,cACbC,EAAYF,EAAKG,aAAa,QAC5BN,QAAAC,IAAI,YAAaI,GACpBA,EAKDE,SAASC,oBACTD,SAASC,qBAAoB,KACzBR,QAAQC,IAAI,0BACZQ,OAAOC,SAASC,KAAON,CAAA,KAG3BL,QAAQC,IAAI,gCACZQ,OAAOC,SAASC,KAAON,GAXfL,QAAAY,MAAM,qDAAsDT,EAYxE,EAlDAN,KAAKC,aAAeD,KAAKC,aAAae,KAAKhB,MAC3CG,QAAQC,IAAI,cAChB,CAEU,gBAAAa,GACC,OAAAjB,IACX,CAEA,iBAAAkB,GACSlB,KAAAmB,MAAQnB,KAAKoB,iBAAiB,iBAC3BjB,QAAAC,IAAI,QAASJ,KAAKmB,OACrBnB,KAAKmB,MAKLnB,KAAAmB,MAAME,SAASf,IACRH,QAAAC,IAAI,OAAQE,GACfA,EAAAgB,iBAAiB,QAAStB,KAAKC,aAAY,IANhDE,QAAQY,MAAM,2CAQtB,CAEA,oBAAAQ,GACQvB,KAAKmB,OACAnB,KAAAmB,MAAME,SAASf,IACXA,EAAAkB,oBAAoB,QAASxB,KAAKC,aAAY,GAG/D,EAgCJwB,eAAeC,OAAO,gBAAiB7B"}