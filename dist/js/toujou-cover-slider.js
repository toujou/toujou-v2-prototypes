import{s as n}from"./lit-element-9d8fde0b.js";import{e as h}from"./custom-element-73470d87.js";import{e as r}from"./property-1027a1df.js";import"./query-assigned-elements-acf341e1.js";import{S as u}from"./splide.esm-688b6f4b.js";var _=Object.defineProperty,c=Object.getOwnPropertyDescriptor,t=(i,l,a,d)=>{for(var s=d>1?void 0:d?c(l,a):l,o=i.length-1,p;o>=0;o--)(p=i[o])&&(s=(d?p(l,a,s):p(s))||s);return d&&s&&_(l,a,s),s};let e=class extends n{constructor(){super(),this.splideContainer=null,this._maxCardWidth=null,this._cardGap=null,this._cardWidthWithGap=null,this._sliderWidth=null,this._slidesThatFitIntoScreen=null,this._numberOfSlidesInSlider=0,this._isSlide=!1,this._resizeObserver=null,this._resizeObserver=new ResizeObserver(i=>{i.forEach(()=>this._updateUI())})}connectedCallback(){super.connectedCallback(),this._resizeObserver.observe(this)}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver.unobserve(this)}createRenderRoot(){return this}firstUpdated(){if(this._updateCustomProperties(),this._numberOfSlidesInSlider=this.querySelectorAll(".cover-slider__item").length,this.splideContainer=this.querySelector(".splide")||null,this.splideContainer)this._initSlider(),this._updateUI();else{console.error("TOUJOU: Could not get necessary elements to initialize the slider");return}}_initSlider(){this._slidesThatFitIntoScreen=this._calculateSlidesThatFitIntoScreen();const i={classes:{pagination:"splide__pagination slider-bullets",page:"splide__pagination__page slider-bullets__bullet"},type:this._isSlide?"loop":"slide",autoplay:!1,perPage:Math.floor(this._slidesThatFitIntoScreen),perMove:1,gap:this._cardGap,padding:{right:this._calculatePadding()},width:this._cardWidthWithGap,reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};this.splideSlider=new u(this.splideContainer,i),this.splideSlider.mount()}_updateSliderOptions(){this.splideSlider&&(this.splideSlider.destroy(),this._initSlider())}_updateUI(){this._updateCustomProperties(),this._isSlide=this._slidesThatFitIntoScreen<=this._numberOfSlidesInSlider,this._updateSliderOptions()}_updateCustomProperties(){const i=getComputedStyle(this);this._maxCardWidth=+i.getPropertyValue("--cover-slider-card-max-width"),this._cardGap=+i.getPropertyValue("--cover-slider-card-gap"),this._cardWidthWithGap=this._maxCardWidth+this._cardGap}_calculateSlidesThatFitIntoScreen(){return this._sliderWidth=this.getBoundingClientRect().width,Math.ceil(this._sliderWidth/this._cardWidthWithGap)+.5}_calculatePadding(){return`${100/(this._slidesThatFitIntoScreen*2)}%`}};t([r({type:Object})],e.prototype,"splideContainer",2);t([r()],e.prototype,"splideSlider",2);t([r({type:Number})],e.prototype,"_maxCardWidth",2);t([r({type:Number})],e.prototype,"_cardGap",2);t([r({type:Number})],e.prototype,"_cardWidthWithGap",2);t([r({type:Number})],e.prototype,"_sliderWidth",2);t([r({type:Number})],e.prototype,"_slidesThatFitIntoScreen",2);t([r({type:Number})],e.prototype,"_numberOfSlidesInSlider",2);t([r({type:Boolean,reflect:!0,attribute:"is-slider"})],e.prototype,"_isSlide",2);t([r({type:ResizeObserver})],e.prototype,"_resizeObserver",2);e=t([h("toujou-cover-slider")],e);
//# sourceMappingURL=toujou-cover-slider.js.map
