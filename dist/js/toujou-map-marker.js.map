{"version":3,"file":"toujou-map-marker.js","sources":["../../src/components/copied/toujou-map/toujou-map-marker.js"],"sourcesContent":["import { LitElement, html, css } from 'lit';\nimport mapboxgl from 'mapbox-gl';\n\n/**\n * Add a marker to a map, to pinpoint a location.\n * We can define the color, coordinates and offset of the marker\n *\n * @element toujou-map-marker\n */\nclass ToujouMapMarker extends LitElement {\n  static get is() { return 'toujou-map-marker'; }\n\n  static get styles() {\n    return css`\n        :host {\n          display: block;\n          padding: 0;\n        }\n    `;\n  }\n\n  render() {\n    return html`<slot></slot>`;\n  }\n\n  static get properties() {\n    return {\n\n      /**\n       * Coordinates [longitude, latitude] where the marker should be placed.\n       * It must be an array with valid geocoordinate values, ex: '[76.920490,10.630830]'\n       *\n       * @Array\n       */\n      coordinates: {\n        type: Array,\n      },\n\n      /**\n       * Define the marker's color.\n       * It should be a valid css color value, ex: '#ff0000'.\n       * Default is '#77b800'\n       *\n       * @String\n       */\n      color: {\n        type: String,\n      },\n\n      /**\n       * Define an offset that will move the marker in relation to its coordinates.\n       * It must be an array with distance values, ex '[240, 100]'.\n       * Default if '[0, 0]' (no offset).\n       *\n       * @Array\n       */\n      offset: {\n        type: Array,\n      },\n    };\n  }\n\n  set map(map) {\n    if (map !== this._map) {\n      this._map = map;\n      map ? this.initMarker(map) : (this.marker && this.marker.remove());\n    }\n  }\n\n  get map() {\n    return this._map;\n  }\n\n  set color(color) {\n    this.initialMarkerOptions.color = color;\n  }\n\n  get color() {\n    return this.initialMarkerOptions.color;\n  }\n\n  set coordinates(lngLatLike) {\n    this.marker && this.marker.setLngLat(lngLatLike);\n    this._lngLat = lngLatLike;\n  }\n\n  get coordinates() {\n    return this.marker ? this.marker.getLngLat() : this._lngLat;\n  }\n\n  set element(element) {\n    this.initialMarkerOptions.element = element;\n  }\n\n  get element() {\n    return this.marker ? this.marker.getElement() : this.initialMarkerOptions.element;\n  }\n\n  constructor(props) {\n    super(props);\n    this.initialMarkerOptions = {\n      element: null,\n      offset: [0, 0],\n      color: '#77b800',\n    };\n    this._lngLat = [0, 0];\n    this._map = null;\n    this.marker = null;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.dispatchEvent(new CustomEvent('toujou-map-element-attached', { detail: this, bubbles: true, composed: true }));\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.marker && this.marker.remove();\n  }\n\n  initMarker(map) {\n    this.marker = new mapboxgl.Marker(this.initialMarkerOptions).setLngLat(this._lngLat);\n    !this._element && (this.marker.getElement().style.position = 'absolute');\n    this.marker.addTo(map);\n  }\n}\n\ncustomElements.define(ToujouMapMarker.is, ToujouMapMarker);\n"],"names":["ToujouMapMarker","LitElement","css","html","map","color","lngLatLike","element","props","mapboxgl"],"mappings":"wGASA,MAAMA,UAAwBC,CAAW,CACvC,WAAW,IAAK,CAAE,MAAO,mBAAsB,CAE/C,WAAW,QAAS,CAClB,OAAOC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,KAMR,CAED,QAAS,CACP,OAAOC,gBACR,CAED,WAAW,YAAa,CACtB,MAAO,CAQL,YAAa,CACX,KAAM,KACP,EASD,MAAO,CACL,KAAM,MACP,EASD,OAAQ,CACN,KAAM,KACP,CACP,CACG,CAED,IAAI,IAAIC,EAAK,CACPA,IAAQ,KAAK,OACf,KAAK,KAAOA,EACZA,EAAM,KAAK,WAAWA,CAAG,EAAK,KAAK,QAAU,KAAK,OAAO,OAAM,EAElE,CAED,IAAI,KAAM,CACR,OAAO,KAAK,IACb,CAED,IAAI,MAAMC,EAAO,CACf,KAAK,qBAAqB,MAAQA,CACnC,CAED,IAAI,OAAQ,CACV,OAAO,KAAK,qBAAqB,KAClC,CAED,IAAI,YAAYC,EAAY,CAC1B,KAAK,QAAU,KAAK,OAAO,UAAUA,CAAU,EAC/C,KAAK,QAAUA,CAChB,CAED,IAAI,aAAc,CAChB,OAAO,KAAK,OAAS,KAAK,OAAO,UAAW,EAAG,KAAK,OACrD,CAED,IAAI,QAAQC,EAAS,CACnB,KAAK,qBAAqB,QAAUA,CACrC,CAED,IAAI,SAAU,CACZ,OAAO,KAAK,OAAS,KAAK,OAAO,aAAe,KAAK,qBAAqB,OAC3E,CAED,YAAYC,EAAO,CACjB,MAAMA,CAAK,EACX,KAAK,qBAAuB,CAC1B,QAAS,KACT,OAAQ,CAAC,EAAG,CAAC,EACb,MAAO,SACb,EACI,KAAK,QAAU,CAAC,EAAG,CAAC,EACpB,KAAK,KAAO,KACZ,KAAK,OAAS,IACf,CAED,mBAAoB,CAClB,MAAM,kBAAiB,EACvB,KAAK,cAAc,IAAI,YAAY,8BAA+B,CAAE,OAAQ,KAAM,QAAS,GAAM,SAAU,EAAI,CAAE,CAAC,CACnH,CAED,sBAAuB,CACrB,MAAM,qBAAoB,EAC1B,KAAK,QAAU,KAAK,OAAO,OAAM,CAClC,CAED,WAAWJ,EAAK,CACd,KAAK,OAAS,IAAIK,EAAS,OAAO,KAAK,oBAAoB,EAAE,UAAU,KAAK,OAAO,EACnF,CAAC,KAAK,WAAa,KAAK,OAAO,WAAU,EAAG,MAAM,SAAW,YAC7D,KAAK,OAAO,MAAML,CAAG,CACtB,CACH,CAEA,eAAe,OAAOJ,EAAgB,GAAIA,CAAe"}