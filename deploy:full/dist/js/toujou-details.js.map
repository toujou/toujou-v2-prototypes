{"version":3,"file":"toujou-details.js","sources":["../../../src/components/toujou-details/toujou-details.styles.ts","../../../src/components/toujou-details/toujou-details.ts"],"sourcesContent":["import { css } from 'lit';\n\nexport const ToujouDetailsStyles = css`\n  :host {\n    --toujou-details-border: 2px solid var(--color-font-light);\n    \n    --toujou-details-summary-padding: var(--spacing-normal);\n    --toujou-details-summary-gap: 0;\n    --toujou-details-summary-display: grid;\n    --toujou-details-summary-grid-templte-columns: 1fr auto;\n    --toujou-details-summary-grid-templte-areas: \n            \"title chevron\" \n            \"subtitle chevron\";\n\n    --toujou-details-content-padding: 0 var(--spacing-normal) var(--spacing-m);\n    \n    display: block;\n    border-bottom: var(--toujou-details-border);\n  }\n\n  :host(:first-child) {\n    border-top: var(--toujou-details-border);\n  }\n  \n  .details__summary {\n    list-style: none;\n    display: grid;\n    grid-template-columns: 1fr auto;\n    grid-template-areas: var(--toujou-details-summary-grid-templte-areas);\n    grid-gap: var(--toujou-details-summary-gap);\n    align-items: center;\n    padding: var(--toujou-details-summary-padding);\n  }\n  \n  :host(:focus) .details__summary {\n    outline: var(--focus-outline-width) solid var(--focus-outline-color);\n    outline-offset: var(--focus-outline-offset);\n  }\n  \n  .details__summary::-webkit-details-marker {\n    display: none;\n  }\n  \n  .details__content {\n    padding: var(--toujou-details-content-padding);\n  }\n  \n  @media (hover: hover) {\n    .details__summary:hover {\n      cursor: pointer;\n    }\n  }\n`;\n","import { html, LitElement } from 'lit'\nimport { customElement, property } from 'lit/decorators.js'\n\nimport { ToujouDetailsStyles } from \"./toujou-details.styles.js\";\n\n@customElement('toujou-details')\nexport class ToujouDetails extends LitElement {\n\n    static styles = [ ToujouDetailsStyles ];\n\n    accordionParentTag = 'toujou-details-accordion';\n\n    /**\n     * Is true if the toujou-details element is a child of a toujou-details-accordion element\n     */\n    @property({\n        type: Boolean\n    })\n    isAccordionItem: boolean = false;\n\n    /**\n     * Reference to the <details> element in the shadowRoot\n     */\n    @property({\n        type: HTMLDetailsElement\n    })\n    detailsEl: HTMLDetailsElement | null = null;\n\n    /**\n     * Reflect to the host element, so we can also style elements on the light dom\n     */\n    @property({\n        type: Boolean,\n        reflect: true,\n        attribute: 'is-open'\n    })\n    isOpen: boolean = false;\n\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        super.connectedCallback();\n        this.isAccordionItem = !!this.closest(this.accordionParentTag);\n\n        if (this.isAccordionItem) {\n            this.dispatchEvent(new CustomEvent('toujou-details-connected', {\n                bubbles: true,\n                composed: true,\n                detail: {\n                    detailsEl: this\n                }\n            }));\n        }\n    }\n\n    firstUpdated() {\n        this.detailsEl = this.shadowRoot!.querySelector('.details');\n        this.isOpen = this.detailsEl?.hasAttribute('open') || false;\n    }\n\n    render() {\n        return html`\n            <details class=\"details\" ?open=\"${this.isOpen}\" @toggle=\"${this._handleDetailsChange}\">\n                <summary class=\"details__summary\">\n                    <slot name=\"summary\"></slot>\n                    <slot name=\"chevron\"></slot>\n                </summary>\n                <section class=\"details__content\">\n                    <slot name=\"content\"></slot>\n                </section>\n            </details>\n        `\n    }\n\n    /**\n     * Update the isOpen property according to the 'open' attribute on the details element\n     * and dispatch a custom event so other elements can react to the change\n     *\n     * @param event\n     */\n    _handleDetailsChange(event: Event) {\n        const eventTarget = event.target as HTMLDetailsElement;\n        this.isOpen = eventTarget.hasAttribute('open') || false;\n\n        if (this.isAccordionItem) {\n            this.dispatchEvent(new CustomEvent('toujou-details-toggle', {\n                bubbles: true,\n                composed: true,\n                detail: {\n                    detailsEl: this,\n                    state: this.isOpen\n                }\n            }));\n        }\n    }\n}\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        'toujou-details': ToujouDetails\n    }\n}\n"],"names":["css","LitElement","html","property","customElement"],"mappings":"iKAEO,KAAM,GAAsBA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,kMCI5B,GAAA,GAAA,aAA4BC,EAAW,CAgC1C,aAAc,CACJ,QA7BW,KAAA,mBAAA,2BAQM,KAAA,gBAAA,GAQY,KAAA,UAAA,KAUrB,KAAA,OAAA,EAIlB,CAEA,mBAAoB,CAChB,MAAM,kBAAkB,EACxB,KAAK,gBAAkB,CAAC,CAAC,KAAK,QAAQ,KAAK,kBAAkB,EAEzD,KAAK,iBACA,KAAA,cAAc,GAAI,aAAY,2BAA4B,CAC3D,QAAS,GACT,SAAU,GACV,OAAQ,CACJ,UAAW,IACf,CACH,CAAA,CAAC,CAEV,CAEA,cAAe,OACX,KAAK,UAAY,KAAK,WAAY,cAAc,UAAU,EAC1D,KAAK,OAAS,SAAK,YAAL,cAAgB,aAAa,UAAW,EAC1D,CAEA,QAAS,CACE,MAAAC;AAAAA,8CAC+B,KAAK,oBAAoB,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUxE,CAQA,qBAAqB,EAAc,CAC/B,KAAM,GAAc,EAAM,OAC1B,KAAK,OAAS,EAAY,aAAa,MAAM,GAAK,GAE9C,KAAK,iBACA,KAAA,cAAc,GAAI,aAAY,wBAAyB,CACxD,QAAS,GACT,SAAU,GACV,OAAQ,CACJ,UAAW,KACX,MAAO,KAAK,MAChB,CACH,CAAA,CAAC,CAEV,CACJ,EAzFW,EAAA,OAAS,CAAE,CAAoB,EAUtC,EAAA,CAHAC,EAAU,CACN,KAAM,OAAA,CACT,CAAA,EACD,EAAA,UAAA,kBAAA,CAAA,EAQA,EAAA,CAHAA,EAAU,CACN,KAAM,kBAAA,CACT,CAAA,EACD,EAAA,UAAA,YAAA,CAAA,EAUA,EAAA,CALAA,EAAU,CACN,KAAM,QACN,QAAS,GACT,UAAW,SAAA,CACd,CAAA,EACD,EAAA,UAAA,SAAA,CAAA,EA9BG,EAAA,EAAA,CADNC,EAAc,gBAAgB,CAAA,EACxB,CAAA"}